(function(e){var t={id:"cc051deb1d8443b5efda9527c27d6aac",filename:"popup.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(e,t,n){t.exports=function(){function r(){this.destroyed=false;this.__popup=$("<div />").attr({tabindex:"-1"}).css({display:"none",position:"absolute",left:0,top:0,bottom:"auto",right:"auto",margin:0,padding:0,outline:0,border:"0 none",background:"transparent"}).html(this.innerHTML).appendTo("body");this.__backdrop=$("<div />");this.node=this.__popup[0];this.backdrop=this.__backdrop[0];e++}var e=0;var t=!("minWidth"in $("html")[0].style);var n=!t;$.extend(r.prototype,{node:null,backdrop:null,fixed:false,fixedAlign:false,destroyed:true,open:false,returnValue:"",autofocus:true,align:"bottom left",backdropBackground:"#000",backdropOpacity:.3,innerHTML:"",className:"ui-popup",show:function(e){if(this.destroyed){return this}var n=this;var r=this.__popup;this.__activeElement=this.__getActive();this.open=true;this.follow=e||this.follow;if(!this.__ready){r.addClass(this.className);if(this.modal){this.__lock()}if(!r.html()){r.html(this.innerHTML)}if(!t){$(window).on("resize",this.__onresize=function(){n.reset()})}this.__ready=true}r.addClass(this.className+"-show").attr("role",this.modal?"alertdialog":"dialog").css("position",this.fixed?"fixed":"absolute").css("opacity",0).show().delay(200).animate({opacity:1,marginTop:"-20px"},250);this.__backdrop.show();this.reset().focus();this.__dispatchEvent("show");return this},showModal:function(){this.modal=true;return this.show.apply(this,arguments)},close:function(e){if(!this.destroyed&&this.open){if(e!==undefined){this.returnValue=e}this.__popup.hide().removeClass(this.className+"-show");this.__backdrop.hide();this.open=false;this.blur();this.__dispatchEvent("close")}return this},remove:function(){if(this.destroyed){return this}this.__dispatchEvent("beforeremove");if(r.current===this){r.current=null}this.__unlock();this.__popup.remove();this.__backdrop.remove();this.blur();if(!t){$(window).off("resize",this.__onresize)}this.__dispatchEvent("remove");for(var e in this){delete this[e]}return this},reset:function(){var e=this.follow;if(e){this.__follow(e)}else{this.__center()}this.__dispatchEvent("reset");return this},focus:function(){var e=this.node;var t=r.current;if(t&&t!==this){t.blur(false)}if(!$.contains(e,this.__getActive())){var n=this.__popup.find("[autofocus]")[0];if(!this._autofocus&&n){this._autofocus=true}else{n=e}this.__focus(n)}r.current=this;this.__popup.addClass(this.className+"-focus");this.__zIndex();this.__dispatchEvent("focus");return this},blur:function(){var e=this.__activeElement;var t=arguments[0];if(t!==false){this.__focus(e)}this._autofocus=false;this.__popup.removeClass(this.className+"-focus");this.__dispatchEvent("blur");return this},addEventListener:function(e,t){this.__getEventListener(e).push(t);return this},removeEventListener:function(e,t){var n=this.__getEventListener(e);for(var r=0;r<n.length;r++){if(t===n[r]){n.splice(r--,1)}}return this},__getEventListener:function(e){var t=this.__listener;if(!t){t=this.__listener={}}if(!t[e]){t[e]=[]}return t[e]},__dispatchEvent:function(e){var t=this.__getEventListener(e);if(this["on"+e]){this["on"+e]()}for(var n=0;n<t.length;n++){t[n].call(this)}},__focus:function(e){try{if(this.autofocus&&!/^iframe$/i.test(e.nodeName)){e.focus()}}catch(t){}},__getActive:function(){try{var e=document.activeElement;var t=e.contentDocument;var n=t&&t.activeElement||e;return n}catch(r){}},__zIndex:function(){var e=r.zIndex++;this.__popup.css("zIndex",e);this.__backdrop.css("zIndex",e-1);this.zIndex=e},__center:function(){var e=this.__popup;var t=$(window);var n=$(document);var r=this.fixed;var i=r?0:n.scrollLeft();var s=r?0:n.scrollTop();var o=t.width();var u=t.height();var a=e.width();var f=e.height();var l=this.left||(o-a)/2+i;var c=this.top||(u-f)*382/1e3+s+20;var h=e[0].style;h.left=Math.max(parseInt(l),i)+"px";h.top=Math.max(parseInt(c),s)+"px"},__follow:function(e){var t=e.parentNode&&$(e);var n=this.__popup;if(this.__followSkin){n.removeClass(this.__followSkin)}if(t){var r=t.offset();if(r.left*r.top<0){return this.__center()}}var i=this;var s=this.fixed;var o=$(window);var u=$(document);var a=o.width();var f=o.height();var l=u.scrollLeft();var c=u.scrollTop();var h=n.width();var p=n.height();var d=t?t.outerWidth():0;var v=t?t.outerHeight():0;var m=this.__offset(e);var g=m.left;var y=m.top;var b=s?g-l:g;var w=s?y-c:y;var E=s?0:l;var S=s?0:c;var x=E+a-h;var T=S+f-p;var N={};var C=this.align.split(" ");var k=this.fixedAlign;var L=this.className+"-";var A={top:"bottom",bottom:"top",left:"right",right:"left"};var O={top:"top",bottom:"top",left:"left",right:"left"};var M=[{top:w-p,bottom:w+v,left:b-h,right:b+d},{top:w,bottom:w-p+v,left:b,right:b-h+d}];var _={left:b+d/2-h/2,top:w+v/2-p/2};var D={left:[E,x],top:[S,T]};$.each(C,function(e,t){if(e>1){return false}if(M[e][t]>D[O[t]][1]){if(!k){t=C[e]=A[t]}}if(M[e][t]<D[O[t]][0]){if(!k){C[e]=A[t]}}});if(!C[1]){O[C[1]]=O[C[0]]==="left"?"top":"left";M[1][C[1]]=_[O[C[1]]]}L+=C.join("-");i.__followSkin=L;if(t){n.addClass(L)}N[O[C[0]]]=parseInt(M[0][C[0]])+Number(C[2]||0);N[O[C[1]]]=parseInt(M[1][C[1]])+Number(C[3]||0);n.css(N)},__offset:function(e){var t=e.parentNode;var n=t?$(e).offset():{left:e.pageX,top:e.pageY};e=t?e:e.target;var r=e.ownerDocument;var i=r.defaultView||r.parentWindow;if(i==window){return n}var s=i.frameElement;var o=$(r);var u=o.scrollLeft();var a=o.scrollTop();var f=$(s).offset();var l=f.left;var c=f.top;return{left:n.left+l-u,top:n.top+c-a}},__lock:function(){var e=this;var t=this.__popup;var i=this.__backdrop;var s={position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",userSelect:"none",opacity:0,background:this.backdropBackground};t.addClass(this.className+"-modal");r.zIndex=r.zIndex+2;this.__zIndex();if(!n){$.extend(s,{position:"absolute",width:$(window).width()+"px",height:$(document).height()+"px"})}i.css(s).animate({opacity:this.backdropOpacity},150).insertAfter(t).attr({tabindex:"0"}).on("focus",function(){e.focus()})},__unlock:function(){if(this.modal){this.__popup.removeClass(this.className+"-modal");this.__backdrop.remove();delete this.modal}}});r.zIndex=1024;r.current=null;return r}()}(t.exports,t,e);e.____MODULES["cc051deb1d8443b5efda9527c27d6aac"]=t.exports})(this);(function(e){var t={id:"0bad03dda659d46f9313a6b0913b18a0",filename:"drag.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(e,t,n){t.exports=function(){var e=$(window);var t=$(document);var n="createTouch"in document;var r=document.documentElement;var i=!("minWidth"in r.style);var s=!i&&"onlosecapture"in r;var o="setCapture"in r;var u={start:n?"touchstart":"mousedown",over:n?"touchmove":"mousemove",end:n?"touchend":"mouseup"};var a=n?function(e){if(!e.touches){e=e.originalEvent.touches.item(0)}return e}:function(e){return e};var f=function(){this.start=$.proxy(this.start,this);this.over=$.proxy(this.over,this);this.end=$.proxy(this.end,this);this.onstart=this.onover=this.onend=$.noop};f.types=u;f.prototype={start:function(e){e=this.startFix(e);t.on(u.over,this.over).on(u.end,this.end);this.onstart(e);return false},over:function(e){e=this.overFix(e);this.onover(e);return false},end:function(e){e=this.endFix(e);t.off(u.over,this.over).off(u.end,this.end);this.onend(e);return false},startFix:function(n){n=a(n);this.target=$(n.target);this.selectstart=function(){return false};t.on("selectstart",this.selectstart).on("dblclick",this.end);if(s){this.target.on("losecapture",this.end)}else{e.on("blur",this.end)}if(o){this.target[0].setCapture()}return n},overFix:function(e){e=a(e);return e},endFix:function(n){n=a(n);t.off("selectstart",this.selectstart).off("dblclick",this.end);if(s){this.target.off("losecapture",this.end)}else{e.off("blur",this.end)}if(o){this.target[0].releaseCapture()}return n}};f.create=function(e,n){var r=$(e);var i=new f;var s=f.types.start;var o=function(){};var u=e.className.replace(/^\s|\s.*/g,"")+"-drag-start";var a;var l;var c;var h;var p={onstart:o,onover:o,onend:o,off:function(){r.off(s,i.start)}};i.onstart=function(n){var i=r.css("position")==="fixed";var s=t.scrollLeft();var o=t.scrollTop();var f=r.width();a=-f+20;l=10;c=t.width()-20;h=t.height()-20;var d=r.offset();var v=this.startLeft=i?d.left-s:d.left;var m=this.startTop=i?d.top-o:d.top;this.clientX=n.clientX;this.clientY=n.clientY;r.addClass(u);p.onstart.call(e,n,v,m)};i.onover=function(t){var n=t.clientX-this.clientX+this.startLeft;var i=t.clientY-this.clientY+this.startTop;var s=r[0].style;n=Math.max(a,Math.min(c,n));i=Math.max(l,Math.min(h,i));s.left=n+"px";s.top=i+"px";p.onover.call(e,t,n,i)};i.onend=function(t){var n=r.position();var i=n.left;var s=n.top;r.removeClass(u);p.onend.call(e,t,i,s)};i.off=function(){r.off(s,i.start)};if(n){i.start(n)}else{r.on(s,i.start)}return p};return f}()}(t.exports,t,e);e.____MODULES["0bad03dda659d46f9313a6b0913b18a0"]=t.exports})(this);(function(e){var t={id:"16a2cc58793771336ccf182c13cfa989",filename:"dialog-config.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(e,t,n){t.exports={isDrag:false,content:'<span class="art-ui-dialog-loading">Loading..</span>',title:"",statusbar:"",button:null,ok:null,cancel:null,okValue:"确定",cancelValue:"取消",width:"",height:"",padding:"",skin:"",quickClose:false,innerHTML:'<div i="dialog" class="art-ui-dialog">'+'<div class="art-ui-dialog-arrow-a"></div>'+'<div class="art-ui-dialog-arrow-b"></div>'+'<table class="art-ui-dialog-grid">'+"<tr>"+'<td i="header" class="art-ui-dialog-header">'+'<button i="close" class="art-ui-dialog-close">&#215;</button>'+'<i class="art-ui-dialog-start"></i>'+'<div i="title" class="art-ui-dialog-title"></div>'+"</td>"+"</tr>"+"<tr>"+'<td i="body" class="art-ui-dialog-body">'+'<div i="content" class="art-ui-dialog-content"></div>'+"</td>"+"</tr>"+"<tr>"+'<td i="footer" class="art-ui-dialog-footer">'+'<div i="statusbar" class="art-ui-dialog-statusbar"></div>'+'<div i="button" class="art-ui-dialog-button"></div>'+"</td>"+"</tr>"+"</table>"+"</div>"}}(t.exports,t,e);e.____MODULES["16a2cc58793771336ccf182c13cfa989"]=t.exports})(this);(function(e){var t={id:"f156222dac0e2d62726dbaf396f15a78",filename:"dialog.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(t,n,r){n.exports=function(t,n){var r=e.____MODULES["cc051deb1d8443b5efda9527c27d6aac"];var i=e.____MODULES["0bad03dda659d46f9313a6b0913b18a0"];var s=e.____MODULES["16a2cc58793771336ccf182c13cfa989"];var o=s.cssUri;if(o){var u=t[t.toUrl?"toUrl":"resolve"];if(u){o=u(o);o='<link rel="stylesheet" href="'+o+'" />';if(n("base")[0]){n("base").before(o)}else{n("head").append(o)}}}var a=0;var f=new Date-0;var l=!("minWidth"in n("html")[0].style);var c="createTouch"in document&&!("onmousemove"in document)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent);var h=!l&&!c;var p=function(e,t,r){var i=e=e||{};if(typeof e==="string"||e.nodeType===1){e={content:e,fixed:!c}}e=n.extend(true,{},p.defaults,e);e._=i;var s=e.id=e.id||f+a;var o=p.get(s);if(o){return o.focus()}if(!h){e.fixed=false}if(e.quickClose){e.modal=true;if(!i.backdropOpacity){e.backdropOpacity=0}}if(!n.isArray(e.button)){e.button=[]}if(r!==undefined){e.cancel=r}if(e.cancel){e.button.push({id:"cancel",value:e.cancelValue,callback:e.cancel,display:e.cancelDisplay})}if(t!==undefined){e.ok=t}if(e.ok){e.button.push({id:"ok",value:e.okValue,callback:e.ok,autofocus:true})}return p.list[s]=new p.create(e)};var d=function(){};d.prototype=r.prototype;var v=p.prototype=new d;p.create=function(e){var t=this;n.extend(this,new r);var s=n(this.node).html(e.innerHTML);this.options=e;this._popup=s;n.each(e,function(e,n){if(typeof t[e]==="function"){t[e](n)}else{t[e]=n}});if(e.zIndex){r.zIndex=e.zIndex}s.attr({"aria-labelledby":this._$("title").attr("id","title:"+this.id).attr("id"),"aria-describedby":this._$("content").attr("id","content:"+this.id).attr("id")});this._$("close").css("display",this.cancel===false?"none":"").attr("title",this.cancelValue).on("click",function(e){t._trigger("cancel",{event:e});e.preventDefault()});this._$("dialog").addClass(this.skin);this._$("body").css("padding",this.padding);if(e.quickClose){n(this.backdrop).on("onmousedown"in document?"mousedown":"click",function(e){t._trigger("cancel",{event:e});return false})}this._esc=function(e){var n=e.target;var i=n.nodeName;var s=/^input|textarea$/i;var o=r.current===t;var u=e.keyCode;if(!o||s.test(i)&&n.type!=="button"){return}if(u===27){t._trigger("cancel",{event:e})}};if(e.isDrag){n(t.node).on(i.types.start,"[i=title]",function(e){if(!t.follow){t.focus();i.create(t.node,e)}})}this.addEventListener("remove",function(){delete p.list[this.id]});a++;p.oncreate(this);return this};p.create.prototype=v;n.extend(v,{content:function(e){this._$("content").empty("")[typeof e==="object"?"append":"html"](e);return this.reset()},title:function(e){this._$("title").html(e);this._$("header")[e?"show":"hide"]();return this},width:function(e){this._$("content").css("width",e);return this.reset()},height:function(e){this._$("content").css("height",e);return this.reset()},overflow_y:function(e){this._$("content").css("overflow_y",e)},button:function(e){e=e||[];var t=this;var r="";var i=0;this.callbacks={};if(typeof e==="string"){r=e;i++}else{n.each(e,function(e,n){n.id=n.id||n.value;t.callbacks[n.id]=n.callback;var s="";if(n.display===false){s=' style="display:none"'}else{i++}r+="<button"+' type="button"'+' data-id="'+n.id+'"'+s+(n.disabled?" disabled":"")+(n.autofocus?' class="art-ui-dialog-autofocus"':"")+">"+n.value+"</button>"})}this._$("footer")[i?"show":"hide"]();this._$("button").html(r).on("click","[data-id]",function(e){var r=n(this);if(!r.attr("disabled")){t._trigger(r.data("id"),{event:e})}e.preventDefault()});return this},statusbar:function(e){this._$("statusbar").html(e)[e?"show":"hide"]();return this},_$:function(e){return this._popup.find("[i="+e+"]")},_trigger:function(e,t){var n=this.callbacks[e];return typeof n!=="function"||n.call(this,t)!==false?this.close().remove():this}});p.oncreate=n.noop;p.getCurrent=function(){return r.current};p.get=function(e){return e===undefined?p.list:p.list[e]};p.list={};p.defaults=s;return p}(require,$)}(t.exports,t,e);e.____MODULES["f156222dac0e2d62726dbaf396f15a78"]=t.exports})(this);(function(e){var t={id:"1e5b54326244069c961731ad4c505efe",filename:"popupUtil.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(t,n,r){var i=e.____MODULES["f156222dac0e2d62726dbaf396f15a78"];var s={dialog:i,alert:function(e){return this.dialog({title:e.title?e.title:"",content:e.content?e.content:"",fixed:true,padding:e.padding?e.padding:40,skin:e.skin?e.skin:"error-dialog",cancelValue:e.buttonText?e.buttonText:"知道了",cancel:e.cancel?e.cancel:function(){}}).showModal()},succeed:function(e){var t=e?e:"操作成功";var n=this.dialog({padding:"10px 20px",content:'<div class="f16 fn-fwb fn-yh"><i class="i-icon mr5 f32 color-success fn-vam">&#xf1d3;</i>'+t+"</div>"}).showModal();setTimeout(function(){n.close().remove()},1500)},fail:function(e){var t=e?e:"操作失败";var n=this.dialog({padding:"10px 20px",content:'<div class="f16 fn-fwb fn-yh"><i class="i-icon mr5 f32 color-danger fn-vam">&#xf1d2;</i>'+t+"</div>"}).showModal();setTimeout(function(){n.close().remove()},1500)},remind:function(e){return this.dialog({title:e.title||"",content:e.content?'<div class="text-center">'+e.content+"</div>":"",fixed:true,padding:e.padding||20,width:e.width||"auto",height:e.height||"auto",okValue:e.okValue||"确定",ok:e.ok?e.ok:function(){},cancelValue:e.cancelValue||"取消",cancel:e.cancel?e.cancel:function(){}}).showModal()},skipHome:function(e){var t=e.timeCount?e.timeCount:3;var n=this.dialog({skin:"skin-home",padding:"10px 20px",height:45,content:"<span class='inner f16 fn-fwb fn-yh'><i class='yo-ico'>"+"<img src='http://s.qunarzz.com/srmweb/common/loading.gif' class='img'></i>"+"您无权查看该页面，<span class='color-danger j-num'>"+t+"</span>"+"秒后将自动为您跳转到去呼呼管家首页</span>"}).showModal();var r=1;var i=setInterval(function(){$(".skin-home").find(".j-num").html(t-r);r++},1e3);setTimeout(function(){clearInterval(i);n.close().remove();var e=$.cookie("roomStatePage")||"table";window.location.href="/v2"+"/rooms/"+e+".htm"},t*1e3)},warn:function(e,t){var n=e?e:"操作失败";var r=this.dialog({padding:"15px 20px",content:'<div class="f16 fn-yh">'+n+"</div>"}).showModal();setTimeout(function(){r.close().remove()},t||2e3)}};n.exports=s}(t.exports,t,e);e.____MODULES["1e5b54326244069c961731ad4c505efe"]=t.exports})(this);(function(e){var t={id:"52c084a7a69a5e6cdb40a5c3e78fb961",filename:"ajax.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(e,t,n){var r=new RegExp("^(pmsInfo)$");t.exports=function(e){var t=e.url.split("/");if(r.test(t[1])){e.url+=".do"}var n={url:"/v2/c"+e.url,data:e.data||{},type:e.type||"POST",dataType:e.dataType||"json",jsonp:e.jsonp||"callback",async:e.async!==false,contentType:e.contentType||null,statusCode:e.statusCode||{},beforeSend:e.beforeSend||function(){},success:e.success||function(){},error:e.error||function(){}};var i=window.Q.sug,s=i.userId,o=e.data&&e.data.hotelNo||i.hotelNo;if(!n.data.thumbCode){n["data"]["hotelNo"]=o}var u={data:n.data,type:n.type,dataType:n.dataType,cache:false,statusCode:n.statusCode,async:n.async,headers:{UserId:s},beforeSend:function(e){n.beforeSend.call(e)},success:function(e,t,r){n.success.call(r,e)},error:function(e,t){n.error.call(e,t)}};if(n.dataType=="jsonp"){u["jsonp"]=jsonp}if(n.contentType){u["contentType"]=n.contentType}return $.ajax(n.url,u)}}(t.exports,t,e);e.____MODULES["52c084a7a69a5e6cdb40a5c3e78fb961"]=t.exports})(this);(function(e){var t={id:"430ca52e742f116a5e75edbceb49edcf",filename:"error.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(t,n,r){var i="/v2";n.exports=function(t){function o(e){var t={"0010":"请重新登录",8001:"请重新登录",1004:"亲，您没有该模块的权限，可联系管理员处理哦~",2007:"不能重复操作，请刷新后再试",3e3:"不能重复操作，请刷新后再试"};if(e=="1004"){window.location.href=i+"/rooms/table.htm";return}if(t[e]){window.location.reload()}}var n={6002:"您无权查看该页面，3秒后将自动为您跳转到去呼呼管家首页","0010":"请重新登录",8001:"请重新登录",2007:"不能重复操作，请刷新后再试",3e3:"不能重复操作，请刷新后再试",1004:"亲，您没有该模块的权限，可联系管理员处理哦~",9999:"系统异常，请再试！"};var r=false;var s=function(t){var i=e.____MODULES["1e5b54326244069c961731ad4c505efe"];var s=t&&t.code||"";var u=t&&t.msg||"接口异常，请再试！";if(s=="0000"){return false}else{if(r){return true}if(s=="6002"){i.skipHome({timeCount:3})}else{i.alert({content:n[s]?n[s]:u,buttonText:"关闭",cancel:function(){r=false;o(s)}})}if(s=="0010"||s=="8001"){Q.sock.close()}r=true;return true}};return s}()}(t.exports,t,e);e.____MODULES["430ca52e742f116a5e75edbceb49edcf"]=t.exports})(this);(function(e){var t={id:"2ed39acfd363bbdd7cc4b38b9b206936",filename:"global.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(t,n,r){var i=e.____MODULES["1e5b54326244069c961731ad4c505efe"];var s=e.____MODULES["52c084a7a69a5e6cdb40a5c3e78fb961"];var o=e.____MODULES["430ca52e742f116a5e75edbceb49edcf"];window.popupUtil=i;window.ajax=s;window.error=o}(t.exports,t,e);e.____MODULES["2ed39acfd363bbdd7cc4b38b9b206936"]=t.exports})(this);(function(e){var t={id:"740fb12a3abe3404ac255dc40627eea2",filename:"config.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(e,t,n){t.exports={settings:{pageKey:"",navKey:""},serviceTel:""}}(t.exports,t,e);e.____MODULES["740fb12a3abe3404ac255dc40627eea2"]=t.exports})(this);(function(e){var t={id:"84f1db12da6df96e88b845a329039460",filename:"festivalConfig.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(e,t,n){t.exports={"2016-01-01":"元旦","2016-02-07":"除夕","2016-02-08":"春节","2016-02-14":"情人","2016-04-04":"清明","2016-05-01":"劳动","2016-06-09":"端午","2016-09-15":"中秋","2016-10-01":"国庆","2016-12-25":"圣诞","2017-01-01":"元旦","2017-01-27":"除夕","2017-01-28":"春节","2017-02-14":"情人","2017-04-04":"清明","2017-05-01":"劳动","2017-05-30":"端午","2017-10-01":"国庆","2017-10-04":"中秋","2017-12-25":"圣诞","2018-01-01":"元旦","2018-02-14":"情人","2018-02-15":"除夕","2018-02-16":"春节","2018-04-04":"清明","2018-05-01":"劳动","2018-06-18":"端午","2018-09-24":"中秋","2018-10-01":"国庆","2018-12-25":"圣诞"}}(t.exports,t,e);e.____MODULES["84f1db12da6df96e88b845a329039460"]=t.exports})(this);(function(e){var t={id:"93107745e701e8e60af7dd1beac73661",filename:"dateUtil.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(t,n,r){var i=e.____MODULES["84f1db12da6df96e88b845a329039460"];n.exports=function(){var e={getDate:function(e){var t,n,r;t=$.trim(e).split(" ");n=t[0].split(/[\-\/]/);r=t[1]?t[1].split(":"):[0,0,0];return new Date(n[0],n[1]-1,n[2],r[0],r[1],r[2]?r[2]:0)},format:function(t,n){t=e._getDate(t);var r={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};if(/(y+)/.test(n)){n=n.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))}for(var i in r)if((new RegExp("("+i+")")).test(n)){n=n.replace(RegExp.$1,RegExp.$1.length==1?r[i]:("00"+r[i]).substr((""+r[i]).length))}return n},mergeDateTime:function(e,t){return e+" "+t},isToday:function(t,n){return e.compare(t,n)=="0"?true:false},isFriday:function(t){var n=e.getDate(t).getDay();if(n==5){return true}return false},isWeekend:function(t){var n=e.getDate(t).getDay();if(n==0||n==6){return true}return false},getWeekFirstDay:function(t){var n=e.getDate(t).getDay(),r="";if(n==1||n==2||n==3||n==4||n==5||n==6){r=e.getDisDate(t,-(n-1))}else if(n==0){r=e.getDisDate(t,-6)}return r},getWeekLastDay:function(t){var n=e.getDate(t).getDay();return e.getDisDate(t,(7-n)%7)},compare:function(t,n){t=e._getDate(t);n=e._getDate(n);var r=t.getTime(),i=n.getTime();if(r>i){return"1"}else if(r<i){return"-1"}else{return"0"}},toTwoNumber:function(e){e=parseInt(e,10);if(e<10){return"0"+e}return e+""},newDate:function(t){var n=new Date;return e.format(n,t)},getDisDate:function(t,n,r){var i=e._getDate(t);var s=i.getTime()+n*24*60*60*1e3;var o=r?e.format(new Date(s),r):e.format(new Date(s),"yyyy-MM-dd");return o},getDisAllDate:function(t,n,r){var i=e._getDate(t);var s=i.getTime()+n*24*60*60*1e3;var o=r?e.format(new Date(s),r):e.format(new Date(s),"yyyy-MM-dd hh:mm:ss");return o},_getDate:function(t){if($.type(t)=="string"){return e.getDate(t)}return t},daysDiff:function(e,t){var n,r,i,s;n=e.split(" ")[0].split("-");r=new Date(n[0],n[1]-1,n[2]);n=t.split(" ")[0].split("-");i=new Date(n[0],n[1]-1,n[2]);s=parseInt(Math.abs(i-r)/1e3/60/60/24);return s},hoursDiff:function(t,n,r){var i,s,o;i=e._getDate(t);s=e._getDate(n);o=parseFloat(Math.abs(i-s)/1e3/60/60);if(r=="ceil"){return Math.ceil(o)}return o},nightsDiff:function(e,t){var n,r,i,s;n=e.split(" ")[0].split("-");r=new Date(n[0],n[1]-1,n[2]);n=t.split(" ")[0].split("-");i=new Date(n[0],n[1]-1,n[2]);s=parseInt(Math.abs(i-r)/1e3/60/60/24);if(s===0){s=1}return s},getWeek:function(t){var t=e._getDate(t);var n=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];var r=t.getDay();return n[r]},getMonthFirstDay:function(t){var n=t.split("-")[0];var r=t.split("-")[1];return e.format(new Date(n,r-1,1),"yyyy-MM-dd")},getMonthLastDay:function(t){var n=t.split("-")[0];var r=t.split("-")[1];var i=n;var s=r++;if(r>12){s-=12;i++}var o=new Date(i,s,1);return e.format(new Date(o.getTime()-1e3*60*60*24),"yyyy-MM-dd")},getWeeks:function(t){var t=e._getDate(t);var n=["日","一","二","三","四","五","六"];var r=t.getDay();return n[r]},toFestival:function(e){return i[e]},isCheckInToday:function(t){var n="",r=t.length,i=t.sort();if(r==0){return true}var s=Q.sug.systemTime?Q.sug.systemTime.split(" ")[0]:e.newDate("yyyy-MM-dd");if(r==1){var o=e.isToday(i[0],s);return o}n=i[0];var o=e.isToday(n,s);if(!o){return false}for(var u=1;u<r;u++){if(e.daysDiff(n,i[u])!=1){return false}n=i[u]}return true},addZero:function(e){return e<10?"0"+e:e},getMilliseconds:function(e){var t=e.split(" "),n=t[0].split("-"),r=[];if(t.length===1){return(new Date(n[0],n[1]-1,n[2])).getTime()}else if(t.length===2){r=t[1].split(":");switch(r.length){case 1:return(new Date(n[0],n[1]-1,n[2],r[0])).getTime();case 2:return(new Date(n[0],n[1]-1,n[2],r[0],r[1])).getTime();case 3:return(new Date(n[0],n[1]-1,n[2],r[0],r[1],r[2])).getTime()}}},getTimeString:function(t,n){var r=new Date(t),i=[],s=[];i[0]=r.getFullYear();i[1]=e.addZero(r.getMonth()+1);i[2]=e.addZero(r.getDate());s[0]=e.addZero(r.getHours());s[1]=e.addZero(r.getMinutes());if(arguments.length<2||n){return i.join("-")+" "+s.join(":")}else{return i.join("-")}},date:function(t){var n=t.split(" "),r=n[0].split("-"),i=n[1]?n[1].split(":"):[],s=e;return{getYear:function(){return r[0]},getMonth:function(){return r[1]},getDate:function(){return r[2]},getHour:function(){return i.length>0?i[0]:""},getMinute:function(){return i.length>1?i[1]:""},getDay:function(){var e=s.getMilliseconds(t);return(new Date(e)).getDay()},getFormatDate:function(){return n[0]}}},getCNWeek:function(e,t){var n={0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"};return t?n[e]:n[e].slice(2)},jumpDate:function(t,n){var r=e.getMilliseconds(t),n=arguments.length===1?1:n,i=t.indexOf(":")!==-1;return e.getTimeString(r+3600*24*1e3*n,i)},jumpHour:function(t,n){var r=e.getMilliseconds(t),n=arguments.length===1?1:n;return e.getTimeString(r+3600*1e3*n)},jumpMonth:function(t,n,r){var i=new Date(t),n=arguments.length===1?1:n,s=e.getTimeString(i.setMonth(i.getMonth()+n));if(r){return s}else{return s.slice(0,10)}},createDateArray:function(t,n){var r=e.daysDiff(t,n)+1;var i=t.split("-");var s=i[0];var o=i[1];var u=i[2];var a=[];for(var f=0;f<r;f++){if(u>(new Date(s,o,0)).getDate()){u=1;o++;if(o>12){o=1;s++}}a.push(s+"-"+e.toTwoNumber(o)+"-"+e.toTwoNumber(u));u++}return a},getFirstAndLastMonthDay:function(e){var t=e.split("-"),n=t[0],r=t[1],i=new Date(n,r,0),s=n+"-"+r+"-01",o=n+"-"+r+"-"+i.getDate();return{firstDate:s,lastDate:o}},isValid:function(e){return/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)}};return e}()}(t.exports,t,e);e.____MODULES["93107745e701e8e60af7dd1beac73661"]=t.exports})(this);(function(e){var t={id:"09ac380113fe68b684a97bbaee18a6a7",filename:"cookie.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(e,t,n){(function(t){if(typeof define==="function"&&define.amd){define(["jquery"],t)}else if(typeof e==="object"){t(jQuery)}else{t(jQuery)}})(function(e){function n(e){return u.raw?e:encodeURIComponent(e)}function r(e){return u.raw?e:decodeURIComponent(e)}function i(e){return n(u.json?JSON.stringify(e):String(e))}function s(e){if(e.indexOf('"')===0){e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{e=decodeURIComponent(e.replace(t," "));return u.json?JSON.parse(e):e}catch(n){}}function o(t,n){var r=u.raw?t:s(t);return e.isFunction(n)?n(r):r}var t=/\+/g;var u=e.cookie=function(t,s,a){if(arguments.length>1&&!e.isFunction(s)){a=e.extend({},u.defaults,a);if(typeof a.expires==="number"){var f=a.expires,l=a.expires=new Date;l.setTime(+l+f*864e5)}return document.cookie=[n(t),"=",i(s),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}var c=t?undefined:{};var h=document.cookie?document.cookie.split("; "):[];for(var p=0,d=h.length;p<d;p++){var v=h[p].split("=");var m=r(v.shift());var g=v.join("=");if(t&&t===m){c=o(g,s);break}if(!t&&(g=o(g))!==undefined){c[m]=g}}return c};u.defaults={};e.removeCookie=function(t,n){if(e.cookie(t)===undefined){return false}e.cookie(t,"",e.extend({},n,{expires:-1}));return!e.cookie(t)}})}(t.exports,t,e);e.____MODULES["09ac380113fe68b684a97bbaee18a6a7"]=t.exports})(this);(function(e){var t={id:"82e8212af1cd1c78b76d1c61daab1840",filename:"queryHotelFeatureSettings.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(e,t,n){t.exports=function(e){var t=e||{},n=t.data||{},r=t.callback||function(){};Q.ajax({url:"/api/hotelSettings/queryHotelFeatureSettings",type:"POST",data:n,success:function(e){if(Q.error(e)){return}r(e.data||{})}})}}(t.exports,t,e);e.____MODULES["82e8212af1cd1c78b76d1c61daab1840"]=t.exports})(this);(function(e){var t={id:"9a37576816af5ed39f908d0c05dd4ea8",filename:"noticePlayer.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(t,n,r){var i=e.____MODULES["82e8212af1cd1c78b76d1c61daab1840"];var s={remind_general:"new_remind.mp3",remind_useCar:"new_remind.mp3",remind_invoice:"new_remind.mp3",remind_frontDesk:"new_remind.mp3",message_wait_confirm_qunar:"wait_confirm_qunar.mp3",message_wait_confirm_ctrip:"wait_confirm_ctrip.mp3",message_wait_confirm_elong:"wait_confirm_elong.mp3",message_wait_confirm_qmango:"wait_confirm_qmango.mp3",message_wait_confirm_meituan:"wait_confirm_meituan.mp3",message_auto_confirm_qunar:"auto_confirm_qunar.mp3",message_auto_confirm_ctrip:"auto_confirm_ctrip.mp3",message_auto_confirm_elong:"auto_confirm_elong.mp3",message_auto_confirm_qmango:"auto_confirm_qmango.mp3",message_auto_confirm_meituan:"auto_confirm_meituan.mp3",message_auto_assign_qunar:"auto_assign_qunar.mp3",message_auto_assign_ctrip:"auto_assign_ctrip.mp3",message_auto_assign_elong:"auto_assign_elong.mp3",message_auto_assign_qmango:"auto_assign_qmango.mp3",message_auto_assign_quhuhu:"auto_assign_quhuhu.mp3",message_auto_assign_meituan:"auto_assign_meituan.mp3",message_auto_assign_quhuhudianpuzhixiao:"auto_assign_quhuhudianpuzhixiao.mp3",message_order_change:"new_message.wav",message_order_cancel:"new_message.wav",message_account_statement:"new_message.wav",message_other:"new_message.wav",announcement_system:"new_message.wav"};var o={"去哪儿网":"qunar","携程":"ctrip","艺龙":"elong","青芒果":"qmango","去呼呼直销":"quhuhudianpuzhixiao","去呼呼":"quhuhu","美团":"meituan"};var u=0,a=0,f="",l=[document.title,"新消息"];var c=function(){u++;a=u%2;var e=l[a];if(a==1){e+=f}document.title=e;if(u>=80){document.title=l[0];return}setTimeout(c,400)};var h=function(){u=0;a=0;f="";Q.ajax({url:"/api/msg/queryTotalCount",type:"POST",data:{readStatus:0},success:function(e){if(e.code!="0000"){return}var t=e.data||{},n=t.totalCount||0;a=0;u=0;f=n>0?"（"+n+"）":"";c()}})};var p=function(e){Q.ajax({url:"/api/voice/convertVoice",type:"POST",data:{text:e},success:function(e){if(e.code!="0000"){return}var t=e.data||{};var n=t.voiceUrl||"//s.qunarzz.com/srmweb/notice/new_message.wav";v(n)}})};var d=function(e){h();var t=e.messageType;if(t=="announcement_system"&&e.content){p(e.content);return false}else if(t=="message_wait_confirm"||t=="message_auto_confirm"||t=="message_auto_assign"){var n=false,r=e.content;for(var i in o){if(!n&&r.indexOf(i)!=-1){t+="_"+o[i];n=true}}}var u=s[t];if(!u){u="new_message.wav"}var a="//s.qunarzz.com/srmweb/notice/"+u;v(a)};var v=function(e){var t=document.getElementById("audio");if(t&&!t.paused){t.pause()}this.music=$('<div id="music"></div>');this.music.appendTo("body");if($.browser.mozilla||$.browser.chrome){this.music.html('<audio id="audio" controls="controls" style="display:none" '+'autoplay="autoplay"><source src="'+e+'" type="audio/mpeg" /></audio>');return}this.music.html('<embed id="audio" src="'+e+'" loop="0" autostart="true" hidden="true"></embed>')};var m=function(e){i({callback:function(t){if(!t.soundEnabled){return}d(e)}})};n.exports=m}(t.exports,t,e);e.____MODULES["9a37576816af5ed39f908d0c05dd4ea8"]=t.exports})(this);(function(e){var t={id:"471bf3f114cffc85024b443060cfcfac",filename:"sockjs.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(e,t,n){!function(r){if("object"==typeof e&&"undefined"!=typeof t)t.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var i;"undefined"!=typeof window?i=window:"undefined"!=typeof n?i=n:"undefined"!=typeof self&&(i=self),i.SockJS=r()}}(function(){var e,t,r;return function i(e,t,n){function r(o,u){if(!t[o]){if(!e[o]){var a=typeof moduleLoader=="function"&&moduleLoader;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=t[o]={exports:{}};e[o][0].call(l.exports,function(t){var n=e[o][1][t];return r(n?n:t)},l,l.exports,i,e,t,n)}return t[o].exports}var s=typeof moduleLoader=="function"&&moduleLoader;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,r){(function(n){"use strict";var r=e("./transport-list");t.exports=e("./main")(r);if("_sockjs_onload"in n){setTimeout(n._sockjs_onload,1)}}).call(this,typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./main":14,"./transport-list":16}],2:[function(e,t,n){"use strict";function s(){i.call(this);this.initEvent("close",false,false);this.wasClean=false;this.code=0;this.reason=""}var r=e("inherits"),i=e("./event");r(s,i);t.exports=s},{"./event":4,inherits:57}],3:[function(e,t,n){"use strict";function s(){i.call(this)}var r=e("inherits"),i=e("./eventtarget");r(s,i);s.prototype.removeAllListeners=function(e){if(e){delete this._listeners[e]}else{this._listeners={}}};s.prototype.once=function(e,t){function i(){n.removeListener(e,i);if(!r){r=true;t.apply(this,arguments)}}var n=this,r=false;this.on(e,i)};s.prototype.emit=function(){var e=arguments[0];var t=this._listeners[e];if(!t){return}var n=arguments.length;var r=new Array(n-1);for(var i=1;i<n;i++){r[i-1]=arguments[i]}for(var s=0;s<t.length;s++){t[s].apply(this,r)}};s.prototype.on=s.prototype.addListener=i.prototype.addEventListener;s.prototype.removeListener=i.prototype.removeEventListener;t.exports.EventEmitter=s},{"./eventtarget":5,inherits:57}],4:[function(e,t,n){"use strict";function r(e){this.type=e}r.prototype.initEvent=function(e,t,n){this.type=e;this.bubbles=t;this.cancelable=n;this.timeStamp=+(new Date);return this};r.prototype.stopPropagation=function(){};r.prototype.preventDefault=function(){};r.CAPTURING_PHASE=1;r.AT_TARGET=2;r.BUBBLING_PHASE=3;t.exports=r},{}],5:[function(e,t,n){"use strict";function r(){this._listeners={}}r.prototype.addEventListener=function(e,t){if(!(e in this._listeners)){this._listeners[e]=[]}var n=this._listeners[e];if(n.indexOf(t)===-1){n=n.concat([t])}this._listeners[e]=n};r.prototype.removeEventListener=function(e,t){var n=this._listeners[e];if(!n){return}var r=n.indexOf(t);if(r!==-1){if(n.length>1){this._listeners[e]=n.slice(0,r).concat(n.slice(r+1))}else{delete this._listeners[e]}return}};r.prototype.dispatchEvent=function(){var e=arguments[0];var t=e.type;var n=arguments.length===1?[e]:Array.apply(null,arguments);if(this["on"+t]){this["on"+t].apply(this,n)}if(t in this._listeners){var r=this._listeners[t];for(var i=0;i<r.length;i++){r[i].apply(this,n)}}};t.exports=r},{}],6:[function(e,t,n){"use strict";function s(e){i.call(this);this.initEvent("message",false,false);this.data=e}var r=e("inherits"),i=e("./event");r(s,i);t.exports=s},{"./event":4,inherits:57}],7:[function(e,t,n){"use strict";function s(e){this._transport=e;e.on("message",this._transportMessage.bind(this));e.on("close",this._transportClose.bind(this))}var r=e("json3"),i=e("./utils/iframe");s.prototype._transportClose=function(e,t){i.postMessage("c",r.stringify([e,t]))};s.prototype._transportMessage=function(e){i.postMessage("t",e)};s.prototype._send=function(e){this._transport.send(e)};s.prototype._close=function(){this._transport.close();this._transport.removeAllListeners()};t.exports=s},{"./utils/iframe":47,json3:58}],8:[function(e,t,n){(function(n){"use strict";var r=e("./utils/url"),i=e("./utils/event"),s=e("json3"),o=e("./facade"),u=e("./info-iframe-receiver"),a=e("./utils/iframe"),f=e("./location");var l=function(){};if(n.env.NODE_ENV!=="production"){l=e("debug")("sockjs-client:iframe-bootstrap")}t.exports=function(e,t){var n={};t.forEach(function(e){if(e.facadeTransport){n[e.facadeTransport.transportName]=e.facadeTransport}});n[u.transportName]=u;var c;e.bootstrap_iframe=function(){var t;a.currentWindowId=f.hash.slice(1);var u=function(i){if(i.source!==parent){return}if(typeof c==="undefined"){c=i.origin}if(i.origin!==c){return}var u;try{u=s.parse(i.data)}catch(h){l("bad json",i.data);return}if(u.windowId!==a.currentWindowId){return}switch(u.type){case"s":var p;try{p=s.parse(u.data)}catch(h){l("bad json",u.data);break}var d=p[0];var v=p[1];var m=p[2];var g=p[3];l(d,v,m,g);if(d!==e.version){throw new Error("Incompatible SockJS! Main site uses:"+' "'+d+'", the iframe:'+' "'+e.version+'".')}if(!r.isOriginEqual(m,f.href)||!r.isOriginEqual(g,f.href)){throw new Error("Can't connect to different domain from within an "+"iframe. ("+f.href+", "+m+", "+g+")")}t=new o(new n[v](m,g));break;case"m":t._send(u.data);break;case"c":if(t){t._close()}t=null;break}};i.attachEvent("message",u);a.postMessage("s")}}}).call(this,{env:{}})},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:54,json3:58}],9:[function(e,t,n){(function(n){"use strict";function a(e,t){r.call(this);var n=this;var i=+(new Date);this.xo=new t("GET",e);this.xo.once("finish",function(e,t){var r,a;if(e===200){a=+(new Date)-i;if(t){try{r=s.parse(t)}catch(f){u("bad json",t)}}if(!o.isObject(r)){r={}}}n.emit("finish",r,a);n.removeAllListeners()})}var r=e("events").EventEmitter,i=e("inherits"),s=e("json3"),o=e("./utils/object");var u=function(){};if(n.env.NODE_ENV!=="production"){u=e("debug")("sockjs-client:info-ajax")}i(a,r);a.prototype.close=function(){this.removeAllListeners();this.xo.close()};t.exports=a}).call(this,{env:{}})},{"./utils/object":49,debug:54,events:3,inherits:57,json3:58}],10:[function(e,t,n){"use strict";function a(e){var t=this;i.call(this);this.ir=new u(e,o);this.ir.once("finish",function(e,n){t.ir=null;t.emit("message",s.stringify([e,n]))})}var r=e("inherits"),i=e("events").EventEmitter,s=e("json3"),o=e("./transport/sender/xhr-local"),u=e("./info-ajax");r(a,i);a.transportName="iframe-info-receiver";a.prototype.close=function(){if(this.ir){this.ir.close();this.ir=null}this.removeAllListeners()};t.exports=a},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:57,json3:58}],11:[function(e,t,r){(function(n,r){"use strict";function c(e,t){var n=this;i.call(this);var s=function(){var r=n.ifr=new a(f.transportName,t,e);r.once("message",function(e){if(e){var t;try{t=o.parse(e)}catch(r){l("bad json",e);n.emit("finish");n.close();return}var i=t[0],s=t[1];n.emit("finish",i,s)}n.close()});r.once("close",function(){n.emit("finish");n.close()})};if(!r.document.body){u.attachEvent("load",s)}else{s()}}var i=e("events").EventEmitter,s=e("inherits"),o=e("json3"),u=e("./utils/event"),a=e("./transport/iframe"),f=e("./info-iframe-receiver");var l=function(){};if(n.env.NODE_ENV!=="production"){l=e("debug")("sockjs-client:info-iframe")}s(c,i);c.enabled=function(){return a.enabled()};c.prototype.close=function(){if(this.ifr){this.ifr.close()}this.removeAllListeners();this.ifr=null};t.exports=c}).call(this,{env:{}},typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:54,events:3,inherits:57,json3:58}],12:[function(e,t,n){(function(n){"use strict";function p(e,t){h(e);var n=this;r.call(this);setTimeout(function(){n.doXhr(e,t)},0)}var r=e("events").EventEmitter,i=e("inherits"),s=e("./utils/url"),o=e("./transport/sender/xdr"),u=e("./transport/sender/xhr-cors"),a=e("./transport/sender/xhr-local"),f=e("./transport/sender/xhr-fake"),l=e("./info-iframe"),c=e("./info-ajax");var h=function(){};if(n.env.NODE_ENV!=="production"){h=e("debug")("sockjs-client:info-receiver")}i(p,r);p._getReceiver=function(e,t,n){if(n.sameOrigin){return new c(t,a)}if(u.enabled){return new c(t,u)}if(o.enabled&&n.sameScheme){return new c(t,o)}if(l.enabled()){return new l(e,t)}return new c(t,f)};p.prototype.doXhr=function(e,t){var n=this,r=s.addPath(e,"/info");h("doXhr",r);this.xo=p._getReceiver(e,r,t);this.timeoutRef=setTimeout(function(){h("timeout");n._cleanup(false);n.emit("finish")},p.timeout);this.xo.once("finish",function(e,t){h("finish",e,t);n._cleanup(true);n.emit("finish",e,t)})};p.prototype._cleanup=function(e){h("_cleanup");clearTimeout(this.timeoutRef);this.timeoutRef=null;if(!e&&this.xo){this.xo.close()}this.xo=null};p.prototype.close=function(){h("close");this.removeAllListeners();this._cleanup(false)};p.timeout=8e3;t.exports=p}).call(this,{env:{}})},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,debug:54,events:3,inherits:57}],13:[function(e,t,r){(function(e){"use strict";t.exports=e.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}).call(this,typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],14:[function(e,t,r){(function(n,r){"use strict";function x(e,t,n){if(!(this instanceof x)){return new x(e,t,n)}if(arguments.length<1){throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present")}m.call(this);this.readyState=x.CONNECTING;this.extensions="";this.protocol="";n=n||{};if(n.protocols_whitelist){d.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead.")}this._transportsWhitelist=n.transports;this._transportOptions=n.transportOptions||{};var r=n.sessionId||8;if(typeof r==="function"){this._generateSessionId=r}else if(typeof r==="number"){this._generateSessionId=function(){return u.string(r)}}else{throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.")}this._server=n.server||u.numberString(1e3);var s=new i(e);if(!s.host||!s.protocol){throw new SyntaxError("The URL '"+e+"' is invalid")}else if(s.hash){throw new SyntaxError("The URL must not contain a fragment")}else if(s.protocol!=="http:"&&s.protocol!=="https:"){throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+s.protocol+"' is not allowed.")}var o=s.protocol==="https:";if(g.protocol==="https"&&!o){throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS")}if(!t){t=[]}else if(!Array.isArray(t)){t=[t]}var a=t.sort();a.forEach(function(e,t){if(!e){throw new SyntaxError("The protocols entry '"+e+"' is invalid.")}if(t<a.length-1&&e===a[t+1]){throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")}});var l=f.getOrigin(g.href);this._origin=l?l.toLowerCase():null;s.set("pathname",s.pathname.replace(/\/+$/,""));this.url=s.href;E("using url",this.url);this._urlInfo={nullOrigin:!p.hasDomain(),sameOrigin:f.isOriginEqual(this.url,g.href),sameScheme:f.isSchemeEqual(this.url,g.href)};this._ir=new w(this.url,this._urlInfo);this._ir.once("finish",this._receiveInfo.bind(this))}function T(e){return e===1e3||e>=3e3&&e<=4999}e("./shims");var i=e("url-parse"),s=e("inherits"),o=e("json3"),u=e("./utils/random"),a=e("./utils/escape"),f=e("./utils/url"),l=e("./utils/event"),c=e("./utils/transport"),h=e("./utils/object"),p=e("./utils/browser"),d=e("./utils/log"),v=e("./event/event"),m=e("./event/eventtarget"),g=e("./location"),y=e("./event/close"),b=e("./event/trans-message"),w=e("./info-receiver");var E=function(){};if(n.env.NODE_ENV!=="production"){E=e("debug")("sockjs-client:main")}var S;s(x,m);x.prototype.close=function(e,t){if(e&&!T(e)){throw new Error("InvalidAccessError: Invalid code")}if(t&&t.length>123){throw new SyntaxError("reason argument has an invalid length")}if(this.readyState===x.CLOSING||this.readyState===x.CLOSED){return}var n=true;this._close(e||1e3,t||"Normal closure",n)};x.prototype.send=function(e){if(typeof e!=="string"){e=""+e}if(this.readyState===x.CONNECTING){throw new Error("InvalidStateError: The connection has not been established yet")}if(this.readyState!==x.OPEN){return}this._transport.send(a.quote(e))};x.version=e("./version");x.CONNECTING=0;x.OPEN=1;x.CLOSING=2;x.CLOSED=3;x.prototype._receiveInfo=function(e,t){E("_receiveInfo",t);this._ir=null;if(!e){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(t);this._transUrl=e.base_url?e.base_url:this.url;e=h.extend(e,this._urlInfo);E("info",e);var n=S.filterToEnabled(this._transportsWhitelist,e);this._transports=n.main;E(this._transports.length+" enabled transports");this._connect()};x.prototype._connect=function(){for(var e=this._transports.shift();e;e=this._transports.shift()){E("attempt",e.transportName);if(e.needBody){if(!r.document.body||typeof r.document.readyState!=="undefined"&&r.document.readyState!=="complete"&&r.document.readyState!=="interactive"){E("waiting for body");this._transports.unshift(e);l.attachEvent("load",this._connect.bind(this));return}}var t=this._rto*e.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t);E("using timeout",t);var n=f.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId());var i=this._transportOptions[e.transportName];E("transport url",n);var s=new e(n,this._transUrl,i);s.on("message",this._transportMessage.bind(this));s.once("close",this._transportClose.bind(this));s.transportName=e.transportName;this._transport=s;return}this._close(2e3,"All transports failed",false)};x.prototype._transportTimeout=function(){E("_transportTimeout");if(this.readyState===x.CONNECTING){this._transportClose(2007,"Transport timed out")}};x.prototype._transportMessage=function(e){E("_transportMessage",e);var t=this,n=e.slice(0,1),r=e.slice(1),i;switch(n){case"o":this._open();return;case"h":this.dispatchEvent(new v("heartbeat"));E("heartbeat",this.transport);return}if(r){try{i=o.parse(r)}catch(s){E("bad json",r)}}if(typeof i==="undefined"){E("empty payload",r);return}switch(n){case"a":if(Array.isArray(i)){i.forEach(function(e){E("message",t.transport,e);t.dispatchEvent(new b(e))})}break;case"m":E("message",this.transport,i);this.dispatchEvent(new b(i));break;case"c":if(Array.isArray(i)&&i.length===2){this._close(i[0],i[1],true)}break}};x.prototype._transportClose=function(e,t){E("_transportClose",this.transport,e,t);if(this._transport){this._transport.removeAllListeners();this._transport=null;this.transport=null}if(!T(e)&&e!==2e3&&this.readyState===x.CONNECTING){this._connect();return}this._close(e,t)};x.prototype._open=function(){E("_open",this._transport.transportName,this.readyState);if(this.readyState===x.CONNECTING){if(this._transportTimeoutId){clearTimeout(this._transportTimeoutId);this._transportTimeoutId=null}this.readyState=x.OPEN;this.transport=this._transport.transportName;this.dispatchEvent(new v("open"));E("connected",this.transport)}else{this._close(1006,"Server lost session")}};x.prototype._close=function(e,t,n){E("_close",this.transport,e,t,n,this.readyState);var r=false;if(this._ir){r=true;this._ir.close();this._ir=null}if(this._transport){this._transport.close();this._transport=null;this.transport=null}if(this.readyState===x.CLOSED){throw new Error("InvalidStateError: SockJS has already been closed")}this.readyState=x.CLOSING;setTimeout(function(){this.readyState=x.CLOSED;if(r){this.dispatchEvent(new v("error"))}var i=new y("close");i.wasClean=n||false;i.code=e||1e3;i.reason=t;this.dispatchEvent(i);this.onmessage=this.onclose=this.onerror=null;E("disconnected")}.bind(this),0)};x.prototype.countRTO=function(e){if(e>100){return 4*e}return 300+e};t.exports=function(t){S=c(t);e("./iframe-bootstrap")(x,t);return x}}).call(this,{env:{}},typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:54,inherits:57,json3:58,"url-parse":59}],15:[function(e,t,n){"use strict";function m(e){var t=+e;if(t!==t){t=0}else if(t!==0&&t!==1/0&&t!==-(1/0)){t=(t>0||-1)*Math.floor(Math.abs(t))}return t}function g(e){return e>>>0}function y(){}var r=Array.prototype;var i=Object.prototype;var s=Function.prototype;var o=String.prototype;var u=r.slice;var a=i.toString;var f=function(e){return i.toString.call(e)==="[object Function]"};var l=function(t){return a.call(t)==="[object Array]"};var c=function(t){return a.call(t)==="[object String]"};var h=Object.defineProperty&&function(){try{Object.defineProperty({},"x",{});return true}catch(e){return false}}();var p;if(h){p=function(e,t,n,r){if(!r&&t in e){return}Object.defineProperty(e,t,{configurable:true,enumerable:false,writable:true,value:n})}}else{p=function(e,t,n,r){if(!r&&t in e){return}e[t]=n}}var d=function(e,t,n){for(var r in t){if(i.hasOwnProperty.call(t,r)){p(e,r,t[r],n)}}};var v=function(e){if(e==null){throw new TypeError("can't convert "+e+" to object")}return Object(e)};d(s,{bind:function(t){var n=this;if(!f(n)){throw new TypeError("Function.prototype.bind called on incompatible "+n)}var r=u.call(arguments,1);var i=function(){if(this instanceof l){var e=n.apply(this,r.concat(u.call(arguments)));if(Object(e)===e){return e}return this}else{return n.apply(t,r.concat(u.call(arguments)))}};var s=Math.max(0,n.length-r.length);var o=[];for(var a=0;a<s;a++){o.push("$"+a)}var l=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")(i);if(n.prototype){y.prototype=n.prototype;l.prototype=new y;y.prototype=null}return l}});d(Array,{isArray:l});var b=Object("a");var w=b[0]!=="a"||!(0 in b);var E=function(t){var n=true;var r=true;if(t){t.call("foo",function(e,t,r){if(typeof r!=="object"){n=false}});t.call([1],function(){"use strict";r=typeof this==="string"},"x")}return!!t&&n&&r};d(r,{forEach:function(t){var n=v(this),r=w&&c(this)?this.split(""):n,i=arguments[1],s=-1,o=r.length>>>0;if(!f(t)){throw new TypeError}while(++s<o){if(s in r){t.call(i,r[s],s,n)}}}},!E(r.forEach));var S=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;d(r,{indexOf:function(t){var n=w&&c(this)?this.split(""):v(this),r=n.length>>>0;if(!r){return-1}var i=0;if(arguments.length>1){i=m(arguments[1])}i=i>=0?i:Math.max(0,r+i);for(;i<r;i++){if(i in n&&n[i]===t){return i}}return-1}},S);var x=o.split;if("ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1){(function(){var e=/()??/.exec("")[1]===void 0;o.split=function(t,n){var i=this;if(t===void 0&&n===0){return[]}if(a.call(t)!=="[object RegExp]"){return x.call(this,t,n)}var s=[],o=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),u=0,f,l,c,h;t=new RegExp(t.source,o+"g");i+="";if(!e){f=new RegExp("^"+t.source+"$(?!\\s)",o)}n=n===void 0?-1>>>0:g(n);while(l=t.exec(i)){c=l.index+l[0].length;if(c>u){s.push(i.slice(u,l.index));if(!e&&l.length>1){l[0].replace(f,function(){for(var e=1;e<arguments.length-2;e++){if(arguments[e]===void 0){l[e]=void 0}}})}if(l.length>1&&l.index<i.length){r.push.apply(s,l.slice(1))}h=l[0].length;u=c;if(s.length>=n){break}}if(t.lastIndex===l.index){t.lastIndex++}}if(u===i.length){if(h||!t.test("")){s.push("")}}else{s.push(i.slice(u))}return s.length>n?s.slice(0,n):s}})()}else if("0".split(void 0,0).length){o.split=function(t,n){if(t===void 0&&n===0){return[]}return x.call(this,t,n)}}var T="	\n\f\r   ᠎    "+"         　\u2028"+"\u2029﻿";var N="​";var C="["+T+"]";var k=new RegExp("^"+C+C+"*");var L=new RegExp(C+C+"*$");var A=o.trim&&(T.trim()||!N.trim());d(o,{trim:function(){if(this===void 0||this===null){throw new TypeError("can't convert "+this+" to object")}return String(this).replace(k,"").replace(L,"")}},A);var O=o.substr;var M="".substr&&"0b".substr(-1)!=="b";d(o,{substr:function(t,n){return O.call(this,t<0?(t=this.length+t)<0?0:t:t,n)}},M)},{}],16:[function(e,t,n){"use strict";t.exports=[e("./transport/websocket"),e("./transport/xhr-streaming"),e("./transport/xdr-streaming"),e("./transport/eventsource"),e("./transport/lib/iframe-wrap")(e("./transport/eventsource")),e("./transport/htmlfile"),e("./transport/lib/iframe-wrap")(e("./transport/htmlfile")),e("./transport/xhr-polling"),e("./transport/xdr-polling"),e("./transport/lib/iframe-wrap")(e("./transport/xhr-polling")),e("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(e,t,r){(function(n,r){"use strict";function l(e,t,n,r){f(e,t);var s=this;i.call(this);setTimeout(function(){s._start(e,t,n,r)},0)}var i=e("events").EventEmitter,s=e("inherits"),o=e("../../utils/event"),u=e("../../utils/url"),a=r.XMLHttpRequest;var f=function(){};if(n.env.NODE_ENV!=="production"){f=e("debug")("sockjs-client:browser:xhr")}s(l,i);l.prototype._start=function(e,t,n,r){var i=this;try{this.xhr=new a}catch(s){}if(!this.xhr){f("no xhr");this.emit("finish",0,"no xhr support");this._cleanup();return}t=u.addQuery(t,"t="+ +(new Date));this.unloadRef=o.unloadAdd(function(){f("unload cleanup");i._cleanup(true)});try{this.xhr.open(e,t,true);if(this.timeout&&"timeout"in this.xhr){this.xhr.timeout=this.timeout;this.xhr.ontimeout=function(){f("xhr timeout");i.emit("finish",0,"");i._cleanup(false)}}}catch(c){f("exception",c);this.emit("finish",0,"");this._cleanup(false);return}if((!r||!r.noCredentials)&&l.supportsCORS){f("withCredentials");this.xhr.withCredentials="true"}if(r&&r.headers){for(var h in r.headers){this.xhr.setRequestHeader(h,r.headers[h])}}this.xhr.onreadystatechange=function(){if(i.xhr){var e=i.xhr;var t,n;f("readyState",e.readyState);switch(e.readyState){case 3:try{n=e.status;t=e.responseText}catch(r){}f("status",n);if(n===1223){n=204}if(n===200&&t&&t.length>0){f("chunk");i.emit("chunk",n,t)}break;case 4:n=e.status;f("status",n);if(n===1223){n=204}if(n===12005||n===12029){n=0}f("finish",n,e.responseText);i.emit("finish",n,e.responseText);i._cleanup(false);break}}};try{i.xhr.send(n)}catch(c){i.emit("finish",0,"");i._cleanup(false)}};l.prototype._cleanup=function(e){f("cleanup");if(!this.xhr){return}this.removeAllListeners();o.unloadDel(this.unloadRef);this.xhr.onreadystatechange=function(){};if(this.xhr.ontimeout){this.xhr.ontimeout=null}if(e){try{this.xhr.abort()}catch(t){}}this.unloadRef=this.xhr=null};l.prototype.close=function(){f("close");this._cleanup(true)};l.enabled=!!a;var c=["Active"].concat("Object").join("X");if(!l.enabled&&c in r){f("overriding xmlhttprequest");a=function(){try{return new r[c]("Microsoft.XMLHTTP")}catch(e){return null}};l.enabled=!!(new a)}var h=false;try{h="withCredentials"in new a}catch(p){}l.supportsCORS=h;t.exports=l}).call(this,{env:{}},typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:54,events:3,inherits:57}],18:[function(e,t,r){(function(e){t.exports=e.EventSource}).call(this,typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],19:[function(e,t,r){(function(e){"use strict";var n=e.WebSocket||e.MozWebSocket;if(n){t.exports=function(t){return new n(t)}}}).call(this,typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],20:[function(e,t,n){"use strict";function a(e){if(!a.enabled()){throw new Error("Transport created when disabled")}i.call(this,e,"/eventsource",s,o)}var r=e("inherits"),i=e("./lib/ajax-based"),s=e("./receiver/eventsource"),o=e("./sender/xhr-cors"),u=e("eventsource");r(a,i);a.enabled=function(){return!!u};a.transportName="eventsource";a.roundTrips=2;t.exports=a},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:57}],21:[function(e,t,n){"use strict";function u(e){if(!i.enabled){throw new Error("Transport created when disabled")}o.call(this,e,"/htmlfile",i,s)}var r=e("inherits"),i=e("./receiver/htmlfile"),s=e("./sender/xhr-local"),o=e("./lib/ajax-based");r(u,o);u.enabled=function(e){return i.enabled&&e.sameOrigin};u.transportName="htmlfile";u.roundTrips=2;t.exports=u},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:57}],22:[function(e,t,n){(function(n){"use strict";function h(e,t,n){if(!h.enabled()){throw new Error("Transport created when disabled")}s.call(this);var r=this;this.origin=u.getOrigin(n);this.baseUrl=n;this.transUrl=t;this.transport=e;this.windowId=l.string(8);var i=u.addPath(n,"/iframe.html")+"#"+this.windowId;c(e,t,i);this.iframeObj=a.createIframe(i,function(e){c("err callback");r.emit("close",1006,"Unable to load an iframe ("+e+")");r.close()});this.onmessageCallback=this._message.bind(this);f.attachEvent("message",this.onmessageCallback)}var r=e("inherits"),i=e("json3"),s=e("events").EventEmitter,o=e("../version"),u=e("../utils/url"),a=e("../utils/iframe"),f=e("../utils/event"),l=e("../utils/random");var c=function(){};if(n.env.NODE_ENV!=="production"){c=e("debug")("sockjs-client:transport:iframe")}r(h,s);h.prototype.close=function(){c("close");this.removeAllListeners();if(this.iframeObj){f.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup();this.iframeObj=null;this.onmessageCallback=this.iframeObj=null}};h.prototype._message=function(e){c("message",e.data);if(!u.isOriginEqual(e.origin,this.origin)){c("not same origin",e.origin,this.origin);return}var t;try{t=i.parse(e.data)}catch(n){c("bad json",e.data);return}if(t.windowId!==this.windowId){c("mismatched window id",t.windowId,this.windowId);return}switch(t.type){case"s":this.iframeObj.loaded();this.postMessage("s",i.stringify([o,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":var r;try{r=i.parse(t.data)}catch(n){c("bad json",t.data);return}this.emit("close",r[0],r[1]);this.close();break}};h.prototype.postMessage=function(e,t){c("postMessage",e,t);this.iframeObj.post(i.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)};h.prototype.send=function(e){c("send",e);this.postMessage("m",e)};h.enabled=function(){return a.iframeEnabled};h.transportName="iframe";h.roundTrips=2;t.exports=h}).call(this,{env:{}})},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,debug:54,events:3,inherits:57,json3:58}],23:[function(e,t,r){(function(n){"use strict";function u(e){if(!u.enabled()){throw new Error("Transport created when disabled")}i.call(this,e,"/jsonp",o,s)}var r=e("inherits"),i=e("./lib/sender-receiver"),s=e("./receiver/jsonp"),o=e("./sender/jsonp");r(u,i);u.enabled=function(){return!!n.document};u.transportName="jsonp-polling";u.roundTrips=1;u.needBody=true;t.exports=u}).call(this,typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:57}],24:[function(e,t,n){(function(n){"use strict";function u(e){return function(t,n,r){o("create ajax sender",t,n);var s={};if(typeof n==="string"){s.headers={"Content-type":"text/plain"}}var u=i.addPath(t,"/xhr_send");var a=new e("POST",u,n,s);a.once("finish",function(e){o("finish",e);a=null;if(e!==200&&e!==204){return r(new Error("http status "+e))}r()});return function(){o("abort");a.close();a=null;var e=new Error("Aborted");e.code=1e3;r(e)}}}function a(e,t,n,r){s.call(this,e,t,u(r),n,r)}var r=e("inherits"),i=e("../../utils/url"),s=e("./sender-receiver");var o=function(){};if(n.env.NODE_ENV!=="production"){o=e("debug")("sockjs-client:ajax-based")}r(a,s);t.exports=a}).call(this,{env:{}})},{"../../utils/url":52,"./sender-receiver":28,debug:54,inherits:57}],25:[function(e,t,n){(function(n){"use strict";function o(e,t){s(e);i.call(this);this.sendBuffer=[];this.sender=t;this.url=e}var r=e("inherits"),i=e("events").EventEmitter;var s=function(){};if(n.env.NODE_ENV!=="production"){s=e("debug")("sockjs-client:buffered-sender")}r(o,i);o.prototype.send=function(e){s("send",e);this.sendBuffer.push(e);if(!this.sendStop){this.sendSchedule()}};o.prototype.sendScheduleWait=function(){s("sendScheduleWait");var e=this;var t;this.sendStop=function(){s("sendStop");e.sendStop=null;clearTimeout(t)};t=setTimeout(function(){s("timeout");e.sendStop=null;e.sendSchedule()},25)};o.prototype.sendSchedule=function(){s("sendSchedule",this.sendBuffer.length);var e=this;if(this.sendBuffer.length>0){var t="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,t,function(t){e.sendStop=null;if(t){s("error",t);e.emit("close",t.code||1006,"Sending error: "+t);e._cleanup()}else{e.sendScheduleWait()}});this.sendBuffer=[]}};o.prototype._cleanup=function(){s("_cleanup");this.removeAllListeners()};o.prototype.stop=function(){s("stop");this._cleanup();if(this.sendStop){this.sendStop();this.sendStop=null}};t.exports=o}).call(this,{env:{}})},{debug:54,events:3,inherits:57}],26:[function(e,t,r){(function(n){"use strict";var r=e("inherits"),i=e("../iframe"),s=e("../../utils/object");t.exports=function(e){function t(t,n){i.call(this,e.transportName,t,n)}r(t,i);t.enabled=function(t,r){if(!n.document){return false}var o=s.extend({},r);o.sameOrigin=true;return e.enabled(o)&&i.enabled()};t.transportName="iframe-"+e.transportName;t.needBody=true;t.roundTrips=i.roundTrips+e.roundTrips-1;t.facadeTransport=e;return t}}).call(this,typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../../utils/object":49,"../iframe":22,inherits:57}],27:[function(e,t,n){(function(n){"use strict";function o(e,t,n){s(t);i.call(this);this.Receiver=e;this.receiveUrl=t;this.AjaxObject=n;this._scheduleReceiver()}var r=e("inherits"),i=e("events").EventEmitter;var s=function(){};if(n.env.NODE_ENV!=="production"){s=e("debug")("sockjs-client:polling")}r(o,i);o.prototype._scheduleReceiver=function(){s("_scheduleReceiver");var e=this;var t=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);t.on("message",function(t){s("message",t);e.emit("message",t)});t.once("close",function(n,r){s("close",n,r,e.pollIsClosing);e.poll=t=null;if(!e.pollIsClosing){if(r==="network"){e._scheduleReceiver()}else{e.emit("close",n||1006,r);e.removeAllListeners()}}})};o.prototype.abort=function(){s("abort");this.removeAllListeners();this.pollIsClosing=true;if(this.poll){this.poll.abort()}};t.exports=o}).call(this,{env:{}})},{debug:54,events:3,inherits:57}],28:[function(e,t,n){(function(n){"use strict";function a(e,t,n,r,a){var f=i.addPath(e,t);u(f);var l=this;s.call(this,e,n);this.poll=new o(r,f,a);this.poll.on("message",function(e){u("poll message",e);l.emit("message",e)});this.poll.once("close",function(e,t){u("poll close",e,t);l.poll=null;l.emit("close",e,t);l.close()})}var r=e("inherits"),i=e("../../utils/url"),s=e("./buffered-sender"),o=e("./polling");var u=function(){};if(n.env.NODE_ENV!=="production"){u=e("debug")("sockjs-client:sender-receiver")}r(a,s);a.prototype.close=function(){u("close");this.removeAllListeners();if(this.poll){this.poll.abort();this.poll=null}this.stop()};t.exports=a}).call(this,{env:{}})},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:54,inherits:57}],29:[function(e,t,n){(function(n){"use strict";function u(e){o(e);i.call(this);var t=this;var n=this.es=new s(e);n.onmessage=function(e){o("message",e.data);t.emit("message",decodeURI(e.data))};n.onerror=function(e){o("error",n.readyState,e);var r=n.readyState!==2?"network":"permanent";t._cleanup();t._close(r)}}var r=e("inherits"),i=e("events").EventEmitter,s=e("eventsource");var o=function(){};if(n.env.NODE_ENV!=="production"){o=e("debug")("sockjs-client:receiver:eventsource")}r(u,i);u.prototype.abort=function(){o("abort");this._cleanup();this._close("user")};u.prototype._cleanup=function(){o("cleanup");var e=this.es;if(e){e.onmessage=e.onerror=null;e.close();this.es=null}};u.prototype._close=function(e){o("close",e);var t=this;setTimeout(function(){t.emit("close",null,e);t.removeAllListeners()},200)};t.exports=u}).call(this,{env:{}})},{debug:54,events:3,eventsource:18,inherits:57}],30:[function(e,t,r){(function(n,r){"use strict";function l(e){f(e);u.call(this);var t=this;s.polluteGlobalNamespace();this.id="a"+a.string(6);e=o.addQuery(e,"c="+decodeURIComponent(s.WPrefix+"."+this.id));f("using htmlfile",l.htmlfileEnabled);var n=l.htmlfileEnabled?s.createHtmlfile:s.createIframe;r[s.WPrefix][this.id]={start:function(){f("start");t.iframeObj.loaded()},message:function(e){f("message",e);t.emit("message",e)},stop:function(){f("stop");t._cleanup();t._close("network")}};this.iframeObj=n(e,function(){f("callback");t._cleanup();t._close("permanent")})}var i=e("inherits"),s=e("../../utils/iframe"),o=e("../../utils/url"),u=e("events").EventEmitter,a=e("../../utils/random");var f=function(){};if(n.env.NODE_ENV!=="production"){f=e("debug")("sockjs-client:receiver:htmlfile")}i(l,u);l.prototype.abort=function(){f("abort");this._cleanup();this._close("user")};l.prototype._cleanup=function(){f("_cleanup");if(this.iframeObj){this.iframeObj.cleanup();this.iframeObj=null}delete r[s.WPrefix][this.id]};l.prototype._close=function(e){f("_close",e);this.emit("close",null,e);this.removeAllListeners()};l.htmlfileEnabled=false;var c=["Active"].concat("Object").join("X");if(c in r){try{l.htmlfileEnabled=!!(new r[c]("htmlfile"))}catch(h){}}l.enabled=l.htmlfileEnabled||s.iframeEnabled;t.exports=l}).call(this,{env:{}},typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:54,events:3,inherits:57}],31:[function(e,t,r){(function(n,r){"use strict";function c(e){l(e);var t=this;f.call(this);i.polluteGlobalNamespace();this.id="a"+s.string(6);var n=u.addQuery(e,"c="+encodeURIComponent(i.WPrefix+"."+this.id));r[i.WPrefix][this.id]=this._callback.bind(this);this._createScript(n);this.timeoutId=setTimeout(function(){l("timeout");t._abort(new Error("JSONP script loaded abnormally (timeout)"))},c.timeout)}var i=e("../../utils/iframe"),s=e("../../utils/random"),o=e("../../utils/browser"),u=e("../../utils/url"),a=e("inherits"),f=e("events").EventEmitter;var l=function(){};if(n.env.NODE_ENV!=="production"){l=e("debug")("sockjs-client:receiver:jsonp")}a(c,f);c.prototype.abort=function(){l("abort");if(r[i.WPrefix][this.id]){var e=new Error("JSONP user aborted read");e.code=1e3;this._abort(e)}};c.timeout=35e3;c.scriptErrorTimeout=1e3;c.prototype._callback=function(e){l("_callback",e);this._cleanup();if(this.aborting){return}if(e){l("message",e);this.emit("message",e)}this.emit("close",null,"network");this.removeAllListeners()};c.prototype._abort=function(e){l("_abort",e);this._cleanup();this.aborting=true;this.emit("close",e.code,e.message);this.removeAllListeners()};c.prototype._cleanup=function(){l("_cleanup");clearTimeout(this.timeoutId);if(this.script2){this.script2.parentNode.removeChild(this.script2);this.script2=null}if(this.script){var e=this.script;e.parentNode.removeChild(e);e.onreadystatechange=e.onerror=e.onload=e.onclick=null;this.script=null}delete r[i.WPrefix][this.id]};c.prototype._scriptError=function(){l("_scriptError");var e=this;if(this.errorTimer){return}this.errorTimer=setTimeout(function(){if(!e.loadedOkay){e._abort(new Error("JSONP script loaded abnormally (onerror)"))}},c.scriptErrorTimeout)};c.prototype._createScript=function(e){l("_createScript",e);var t=this;var n=this.script=r.document.createElement("script");var i;n.id="a"+s.string(8);n.src=e;n.type="text/javascript";n.charset="UTF-8";n.onerror=this._scriptError.bind(this);n.onload=function(){l("onload");t._abort(new Error("JSONP script loaded abnormally (onload)"))};n.onreadystatechange=function(){l("onreadystatechange",n.readyState);if(/loaded|closed/.test(n.readyState)){if(n&&n.htmlFor&&n.onclick){t.loadedOkay=true;try{n.onclick()}catch(e){}}if(n){t._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}}};if(typeof n.async==="undefined"&&r.document.attachEvent){if(!o.isOpera()){try{n.htmlFor=n.id;n.event="onclick"}catch(u){}n.async=true}else{i=this.script2=r.document.createElement("script");i.text="try{var a = document.getElementById('"+n.id+"'); if(a)a.onerror();}catch(x){};";n.async=i.async=false}}if(typeof n.async!=="undefined"){n.async=true}var a=r.document.getElementsByTagName("head")[0];a.insertBefore(n,a.firstChild);if(i){a.insertBefore(i,a.firstChild)}};t.exports=c}).call(this,{env:{}},typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:54,events:3,inherits:57}],32:[function(e,t,n){(function(n){"use strict";function o(e,t){s(e);i.call(this);var n=this;this.bufferPosition=0;this.xo=new t("POST",e,null);this.xo.on("chunk",this._chunkHandler.bind(this));this.xo.once("finish",function(e,t){s("finish",e,t);n._chunkHandler(e,t);n.xo=null;var r=e===200?"network":"permanent";s("close",r);n.emit("close",null,r);n._cleanup()})}var r=e("inherits"),i=e("events").EventEmitter;var s=function(){};if(n.env.NODE_ENV!=="production"){s=e("debug")("sockjs-client:receiver:xhr")}r(o,i);o.prototype._chunkHandler=function(e,t){s("_chunkHandler",e);if(e!==200||!t){return}for(var n=-1;;this.bufferPosition+=n+1){var r=t.slice(this.bufferPosition);n=r.indexOf("\n");if(n===-1){break}var i=r.slice(0,n);if(i){s("message",i);this.emit("message",i)}}};o.prototype._cleanup=function(){s("_cleanup");this.removeAllListeners()};o.prototype.abort=function(){s("abort");if(this.xo){this.xo.close();s("close");this.emit("close",null,"user");this.xo=null}this._cleanup()};t.exports=o}).call(this,{env:{}})},{debug:54,events:3,inherits:57}],33:[function(e,t,r){(function(n,r){"use strict";function f(e){o("createIframe",e);try{return r.document.createElement('<iframe name="'+e+'">')}catch(t){var n=r.document.createElement("iframe");n.name=e;return n}}function l(){o("createForm");u=r.document.createElement("form");u.style.display="none";u.style.position="absolute";u.method="POST";u.enctype="application/x-www-form-urlencoded";u.acceptCharset="UTF-8";a=r.document.createElement("textarea");a.name="d";u.appendChild(a);r.document.body.appendChild(u)}var i=e("../../utils/random"),s=e("../../utils/url");var o=function(){};if(n.env.NODE_ENV!=="production"){o=e("debug")("sockjs-client:sender:jsonp")}var u,a;t.exports=function(e,t,n){o(e,t);if(!u){l()}var r="a"+i.string(8);u.target=r;u.action=s.addQuery(s.addPath(e,"/jsonp_send"),"i="+r);var c=f(r);c.id=r;c.style.display="none";u.appendChild(c);try{a.value=t}catch(h){}u.submit();var p=function(e){o("completed",r,e);if(!c.onerror){return}c.onreadystatechange=c.onerror=c.onload=null;setTimeout(function(){o("cleaning up",r);c.parentNode.removeChild(c);c=null},500);a.value="";n(e)};c.onerror=function(){o("onerror",r);p()};c.onload=function(){o("onload",r);p()};c.onreadystatechange=function(e){o("onreadystatechange",r,c.readyState,e);if(c.readyState==="complete"){p()}};return function(){o("aborted",r);p(new Error("Aborted"))}}}).call(this,{env:{}},typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:54}],34:[function(e,t,r){(function(n,r){"use strict";function l(e,t,n){f(e,t);var r=this;i.call(this);setTimeout(function(){r._start(e,t,n)},0)}var i=e("events").EventEmitter,s=e("inherits"),o=e("../../utils/event"),u=e("../../utils/browser"),a=e("../../utils/url");var f=function(){};if(n.env.NODE_ENV!=="production"){f=e("debug")("sockjs-client:sender:xdr")}s(l,i);l.prototype._start=function(e,t,n){f("_start");var i=this;var s=new r.XDomainRequest;t=a.addQuery(t,"t="+ +(new Date));s.onerror=function(){f("onerror");i._error()};s.ontimeout=function(){f("ontimeout");i._error()};s.onprogress=function(){f("progress",s.responseText);i.emit("chunk",200,s.responseText)};s.onload=function(){f("load");i.emit("finish",200,s.responseText);i._cleanup(false)};this.xdr=s;this.unloadRef=o.unloadAdd(function(){i._cleanup(true)});try{this.xdr.open(e,t);if(this.timeout){this.xdr.timeout=this.timeout}this.xdr.send(n)}catch(u){this._error()}};l.prototype._error=function(){this.emit("finish",0,"");this._cleanup(false)};l.prototype._cleanup=function(e){f("cleanup",e);if(!this.xdr){return}this.removeAllListeners();o.unloadDel(this.unloadRef);this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null;if(e){try{this.xdr.abort()}catch(t){}}this.unloadRef=this.xdr=null};l.prototype.close=function(){f("close");this._cleanup(true)};l.enabled=!!(r.XDomainRequest&&u.hasDomain());t.exports=l}).call(this,{env:{}},typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:54,events:3,inherits:57}],35:[function(e,t,n){"use strict";function s(e,t,n,r){i.call(this,e,t,n,r)}var r=e("inherits"),i=e("../driver/xhr");r(s,i);s.enabled=i.enabled&&i.supportsCORS;t.exports=s},{"../driver/xhr":17,inherits:57}],36:[function(e,t,n){"use strict";function s(){var e=this;r.call(this);this.to=setTimeout(function(){e.emit("finish",200,"{}")},s.timeout)}var r=e("events").EventEmitter,i=e("inherits");i(s,r);s.prototype.close=function(){clearTimeout(this.to)};s.timeout=2e3;t.exports=s},{events:3,inherits:57}],37:[function(e,t,n){"use strict";function s(e,t,n){i.call(this,e,t,n,{noCredentials:true})}var r=e("inherits"),i=e("../driver/xhr");r(s,i);s.enabled=i.enabled;t.exports=s},{"../driver/xhr":17,inherits:57}],38:[function(e,t,n){(function(n){"use strict";function f(e,t,n){if(!f.enabled()){throw new Error("Transport created when disabled")}o.call(this);a("constructor",e);var s=this;var l=i.addPath(e,"/websocket");if(l.slice(0,5)==="https"){l="wss"+l.slice(5)}else{l="ws"+l.slice(4)}this.url=l;this.ws=new u(this.url,[],n);this.ws.onmessage=function(e){a("message event",e.data);s.emit("message",e.data)};this.unloadRef=r.unloadAdd(function(){a("unload");s.ws.close()});this.ws.onclose=function(e){a("close event",e.code,e.reason);s.emit("close",e.code,e.reason);s._cleanup()};this.ws.onerror=function(e){a("error event",e);s.emit("close",1006,"WebSocket connection broken");s._cleanup()}}var r=e("../utils/event"),i=e("../utils/url"),s=e("inherits"),o=e("events").EventEmitter,u=e("./driver/websocket");var a=function(){};if(n.env.NODE_ENV!=="production"){a=e("debug")("sockjs-client:websocket")}s(f,o);f.prototype.send=function(e){var t="["+e+"]";a("send",t);this.ws.send(t)};f.prototype.close=function(){a("close");if(this.ws){this.ws.close()}this._cleanup()};f.prototype._cleanup=function(){a("_cleanup");var e=this.ws;if(e){e.onmessage=e.onclose=e.onerror=null}r.unloadDel(this.unloadRef);this.unloadRef=this.ws=null;this.removeAllListeners()};f.enabled=function(){a("enabled");return!!u};f.transportName="websocket";f.roundTrips=2;t.exports=f}).call(this,{env:{}})},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:54,events:3,inherits:57}],39:[function(e,t,n){"use strict";function a(e){if(!u.enabled){throw new Error("Transport created when disabled")}i.call(this,e,"/xhr",o,u)}var r=e("inherits"),i=e("./lib/ajax-based"),s=e("./xdr-streaming"),o=e("./receiver/xhr"),u=e("./sender/xdr");r(a,i);a.enabled=s.enabled;a.transportName="xdr-polling";a.roundTrips=2;t.exports=a},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:57}],40:[function(e,t,n){"use strict";function u(e){if(!o.enabled){throw new Error("Transport created when disabled")}i.call(this,e,"/xhr_streaming",s,o)}var r=e("inherits"),i=e("./lib/ajax-based"),s=e("./receiver/xhr"),o=e("./sender/xdr");r(u,i);u.enabled=function(e){if(e.cookie_needed||e.nullOrigin){return false}return o.enabled&&e.sameScheme};u.transportName="xdr-streaming";u.roundTrips=2;t.exports=u},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:57}],41:[function(e,t,n){"use strict";function a(e){if(!u.enabled&&!o.enabled){throw new Error("Transport created when disabled")}i.call(this,e,"/xhr",s,o)}var r=e("inherits"),i=e("./lib/ajax-based"),s=e("./receiver/xhr"),o=e("./sender/xhr-cors"),u=e("./sender/xhr-local");r(a,i);a.enabled=function(e){if(e.nullOrigin){return false}if(u.enabled&&e.sameOrigin){return true}return o.enabled};a.transportName="xhr-polling";a.roundTrips=2;t.exports=a},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:57}],42:[function(e,t,r){(function(n){"use strict";function f(e){if(!u.enabled&&!o.enabled){throw new Error("Transport created when disabled")}i.call(this,e,"/xhr_streaming",s,o)}var r=e("inherits"),i=e("./lib/ajax-based"),s=e("./receiver/xhr"),o=e("./sender/xhr-cors"),u=e("./sender/xhr-local"),a=e("../utils/browser");r(f,i);f.enabled=function(e){if(e.nullOrigin){return false}if(a.isOpera()){return false}return o.enabled};f.transportName="xhr-streaming";f.roundTrips=2;f.needBody=!!n.document;t.exports=f}).call(this,typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:57}],43:[function(e,t,r){(function(e){"use strict";if(e.crypto&&e.crypto.getRandomValues){t.exports.randomBytes=function(t){var n=new Uint8Array(t);e.crypto.getRandomValues(n);return n}}else{t.exports.randomBytes=function(e){var t=new Array(e);for(var n=0;n<e;n++){t[n]=Math.floor(Math.random()*256)}return t}}}).call(this,typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],44:[function(e,t,r){(function(e){"use strict";t.exports={isOpera:function(){return e.navigator&&/opera/i.test(e.navigator.userAgent)},isKonqueror:function(){return e.navigator&&/konqueror/i.test(e.navigator.userAgent)},hasDomain:function(){if(!e.document){return true}try{return!!e.document.domain}catch(t){return false}}}}).call(this,typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],45:[function(e,t,n){"use strict";var r=e("json3");var i=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,s;var o=function(e){var t;var n={};var r=[];for(t=0;t<65536;t++){r.push(String.fromCharCode(t))}e.lastIndex=0;r.join("").replace(e,function(e){n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4);return""});e.lastIndex=0;return n};t.exports={quote:function(e){var t=r.stringify(e);i.lastIndex=0;if(!i.test(t)){return t}if(!s){s=o(i)}return t.replace(i,function(e){return s[e]})}}},{json3:58}],46:[function(e,t,r){(function(n){"use strict";var r=e("./random");var i={},s=false,o=n.chrome&&n.chrome.app&&n.chrome.app.runtime;t.exports={attachEvent:function(e,t){if(typeof n.addEventListener!=="undefined"){n.addEventListener(e,t,false)}else if(n.document&&n.attachEvent){n.document.attachEvent("on"+e,t);n.attachEvent("on"+e,t)}},detachEvent:function(e,t){if(typeof n.addEventListener!=="undefined"){n.removeEventListener(e,t,false)}else if(n.document&&n.detachEvent){n.document.detachEvent("on"+e,t);n.detachEvent("on"+e,t)}},unloadAdd:function(e){if(o){return null}var t=r.string(8);i[t]=e;if(s){setTimeout(this.triggerUnloadCallbacks,0)}return t},unloadDel:function(e){if(e in i){delete i[e]}},triggerUnloadCallbacks:function(){for(var e in i){i[e]();delete i[e]}}};var u=function(){if(s){return}s=true;t.exports.triggerUnloadCallbacks()};if(!o){t.exports.attachEvent("unload",u)}}).call(this,typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./random":50}],47:[function(e,t,r){(function(n,r){"use strict";var i=e("./event"),s=e("json3"),o=e("./browser");var u=function(){};if(n.env.NODE_ENV!=="production"){u=e("debug")("sockjs-client:utils:iframe")}t.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){if(!(t.exports.WPrefix in r)){r[t.exports.WPrefix]={}}},postMessage:function(e,n){if(r.parent!==r){r.parent.postMessage(s.stringify({windowId:t.exports.currentWindowId,type:e,data:n||""}),"*")}else{u("Cannot postMessage, no parent window.",e,n)}},createIframe:function(e,t){var n=r.document.createElement("iframe");var s,o;var a=function(){u("unattach");clearTimeout(s);try{n.onload=null}catch(e){}n.onerror=null};var f=function(){u("cleanup");if(n){a();setTimeout(function(){if(n){n.parentNode.removeChild(n)}n=null},0);i.unloadDel(o)}};var l=function(e){u("onerror",e);if(n){f();t(e)}};var c=function(e,t){u("post",e,t);try{setTimeout(function(){if(n&&n.contentWindow){n.contentWindow.postMessage(e,t)}},0)}catch(r){}};n.src=e;n.style.display="none";n.style.position="absolute";n.onerror=function(){l("onerror")};n.onload=function(){u("onload");clearTimeout(s);s=setTimeout(function(){l("onload timeout")},2e3)};r.document.body.appendChild(n);s=setTimeout(function(){l("timeout")},15e3);o=i.unloadAdd(f);return{post:c,cleanup:f,loaded:a}},createHtmlfile:function(e,n){var s=["Active"].concat("Object").join("X");var o=new r[s]("htmlfile");var a,f;var l;var c=function(){clearTimeout(a);l.onerror=null};var h=function(){if(o){c();i.unloadDel(f);l.parentNode.removeChild(l);l=o=null;CollectGarbage()}};var p=function(e){u("onerror",e);if(o){h();n(e)}};var d=function(e,t){try{setTimeout(function(){if(l&&l.contentWindow){l.contentWindow.postMessage(e,t)}},0)}catch(n){}};o.open();o.write("<html><s"+"cript>"+'document.domain="'+r.document.domain+'";'+"</s"+"cript></html>");o.close();o.parentWindow[t.exports.WPrefix]=r[t.exports.WPrefix];var v=o.createElement("div");o.body.appendChild(v);l=o.createElement("iframe");v.appendChild(l);l.src=e;l.onerror=function(){p("onerror")};a=setTimeout(function(){p("timeout")},15e3);f=i.unloadAdd(h);return{post:d,cleanup:h,loaded:c}}};t.exports.iframeEnabled=false;if(r.document){t.exports.iframeEnabled=(typeof r.postMessage==="function"||typeof r.postMessage==="object")&&!o.isKonqueror()}}).call(this,{env:{}},typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./browser":44,"./event":46,debug:54,json3:58}],48:[function(e,t,r){(function(e){"use strict";var n={};["log","debug","warn"].forEach(function(t){var r;try{r=e.console&&e.console[t]&&e.console[t].apply}catch(i){}n[t]=r?function(){return e.console[t].apply(e.console,arguments)}:t==="log"?function(){}:n.log});t.exports=n}).call(this,typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],49:[function(e,t,n){"use strict";t.exports={isObject:function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},extend:function(e){if(!this.isObject(e)){return e}var t,n;for(var r=1,i=arguments.length;r<i;r++){t=arguments[r];for(n in t){if(Object.prototype.hasOwnProperty.call(t,n)){e[n]=t[n]}}}return e}}},{}],50:[function(e,t,n){"use strict";var r=e("crypto");var i="abcdefghijklmnopqrstuvwxyz012345";t.exports={string:function(e){var t=i.length;var n=r.randomBytes(e);var s=[];for(var o=0;o<e;o++){s.push(i.substr(n[o]%t,1))}return s.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length;var n=(new Array(t+1)).join("0");return(n+this.number(e)).slice(-t)}}},{crypto:43}],51:[function(e,t,n){(function(n){"use strict";var r=function(){};if(n.env.NODE_ENV!=="production"){r=e("debug")("sockjs-client:utils:transport")}t.exports=function(e){return{filterToEnabled:function(t,n){var i={main:[],facade:[]};if(!t){t=[]}else if(typeof t==="string"){t=[t]}e.forEach(function(e){if(!e){return}if(e.transportName==="websocket"&&n.websocket===false){r("disabled from server","websocket");return}if(t.length&&t.indexOf(e.transportName)===-1){r("not in whitelist",e.transportName);return}if(e.enabled(n)){r("enabled",e.transportName);i.main.push(e);if(e.facadeTransport){i.facade.push(e.facadeTransport)}}else{r("disabled",e.transportName)}});return i}}}}).call(this,{env:{}})},{debug:54}],52:[function(e,t,n){(function(n){"use strict";var r=e("url-parse");var i=function(){};if(n.env.NODE_ENV!=="production"){i=e("debug")("sockjs-client:utils:url")}t.exports={getOrigin:function(e){if(!e){return null}var t=new r(e);if(t.protocol==="file:"){return null}var n=t.port;if(!n){n=t.protocol==="https:"?"443":"80"}return t.protocol+"//"+t.hostname+":"+n},isOriginEqual:function(e,t){var n=this.getOrigin(e)===this.getOrigin(t);i("same",e,t,n);return n},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){var n=e.split("?");return n[0]+t+(n[1]?"?"+n[1]:"")},addQuery:function(e,t){return e+(e.indexOf("?")===-1?"?"+t:"&"+t)}}}).call(this,{env:{}})},{debug:54,"url-parse":59}],53:[function(e,t,n){t.exports="1.1.1"},{}],54:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments;var t=this.useColors;e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff);if(!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0;var s=0;e[0].replace(/%[a-z%]/g,function(e){if("%%"===e)return;i++;if("%c"===e){s=i}});e.splice(s,0,r);return e}function s(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(e){try{if(null==e){n.storage.removeItem("debug")}else{n.storage.debug=e}}catch(t){}}function u(){var e;try{e=n.storage.debug}catch(t){}return e}function a(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug");n.log=s;n.formatArgs=i;n.save=o;n.load=u;n.useColors=r;n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:a();n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];n.formatters.j=function(e){return JSON.stringify(e)};n.enable(u())},{"./debug":55}],55:[function(e,t,n){function s(){return n.colors[r++%n.colors.length]}function o(e){function t(){}function r(){var e=r;var t=+(new Date);var o=t-(i||t);e.diff=o;e.prev=i;e.curr=t;i=t;if(null==e.useColors)e.useColors=n.useColors();if(null==e.color&&e.useColors)e.color=s();var u=Array.prototype.slice.call(arguments);u[0]=n.coerce(u[0]);if("string"!==typeof u[0]){u=["%o"].concat(u)}var a=0;u[0]=u[0].replace(/%([a-z%])/g,function(t,r){if(t==="%%")return t;a++;var i=n.formatters[r];if("function"===typeof i){var s=u[a];t=i.call(e,s);u.splice(a,1);a--}return t});if("function"===typeof n.formatArgs){u=n.formatArgs.apply(e,u)}var f=r.log||n.log||console.log.bind(console);f.apply(e,u)}t.enabled=false;r.enabled=true;var o=n.enabled(e)?r:t;o.namespace=e;return o}function u(e){n.save(e);var t=(e||"").split(/[\s,]+/);var r=t.length;for(var i=0;i<r;i++){if(!t[i])continue;e=t[i].replace(/\*/g,".*?");if(e[0]==="-"){n.skips.push(new RegExp("^"+e.substr(1)+"$"))}else{n.names.push(new RegExp("^"+e+"$"))}}}function a(){n.enable("")}function f(e){var t,r;for(t=0,r=n.skips.length;t<r;t++){if(n.skips[t].test(e)){return false}}for(t=0,r=n.names.length;t<r;t++){if(n.names[t].test(e)){return true}}return false}function l(e){if(e instanceof Error)return e.stack||e.message;return e}n=t.exports=o;n.coerce=l;n.disable=a;n.enable=u;n.enabled=f;n.humanize=e("ms");n.names=[];n.skips=[];n.formatters={};var r=0;var i},{ms:56}],56:[function(e,t,n){function a(e){e=""+e;if(e.length>1e4)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);var a=(t[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"days":case"day":case"d":return n*o;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}function f(e){if(e>=o)return Math.round(e/o)+"d";if(e>=s)return Math.round(e/s)+"h";if(e>=i)return Math.round(e/i)+"m";if(e>=r)return Math.round(e/r)+"s";return e+"ms"}function l(e){return c(e,o,"day")||c(e,s,"hour")||c(e,i,"minute")||c(e,r,"second")||e+" ms"}function c(e,t,n){if(e<t)return;if(e<t*1.5)return Math.floor(e/t)+" "+n;return Math.ceil(e/t)+" "+n+"s"}var r=1e3;var i=r*60;var s=i*60;var o=s*24;var u=o*365.25;t.exports=function(e,t){t=t||{};if("string"==typeof e)return a(e);return t.long?l(e):f(e)}},{}],57:[function(e,t,n){if(typeof Object.create==="function"){t.exports=function(t,n){t.super_=n;t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}else{t.exports=function(t,n){t.super_=n;var r=function(){};r.prototype=n.prototype;t.prototype=new r;t.prototype.constructor=t}}},{}],58:[function(t,r,i){(function(t){(function(){function f(e,t){function w(e){if(w[e]!==g){return w[e]}var i;if(e=="bug-string-char-index"){i="a"[0]!="a"}else if(e=="json"){i=w("json-stringify")&&w("json-parse")}else{var s,u='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if(e=="json-stringify"){var a=t.stringify,f=typeof a=="function"&&y;if(f){(s=function(){return 1}).toJSON=s;try{f=a(0)==="0"&&a(new n)==="0"&&a(new r)=='""'&&a(d)===g&&a(g)===g&&a()===g&&a(s)==="1"&&a([s])=="[1]"&&a([g])=="[null]"&&a(null)=="null"&&a([g,d,null])=="[null,null,null]"&&a({a:[s,true,false,null,"\0\b\n\f\r	"]})==u&&a(null,s)==="1"&&a([1,2],null,1)=="[\n 1,\n 2\n]"&&a(new o(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&a(new o(864e13))=='"+275760-09-13T00:00:00.000Z"'&&a(new o(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&a(new o(-1))=='"1969-12-31T23:59:59.999Z"'}catch(l){f=false}}i=f}if(e=="json-parse"){var c=t.parse;if(typeof c=="function"){try{if(c("0")===0&&!c(false)){s=c(u);var h=s["a"].length==5&&s["a"][0]===1;if(h){try{h=!c('"	"')}catch(l){}if(h){try{h=c("01")!==1}catch(l){}}if(h){try{h=c("1.")!==1}catch(l){}}}}}catch(l){h=false}}i=h}}return w[e]=!!i}e||(e=u["Object"]());t||(t=u["Object"]());var n=e["Number"]||u["Number"],r=e["String"]||u["String"],i=e["Object"]||u["Object"],o=e["Date"]||u["Date"],a=e["SyntaxError"]||u["SyntaxError"],l=e["TypeError"]||u["TypeError"],c=e["Math"]||u["Math"],h=e["JSON"]||u["JSON"];if(typeof h=="object"&&h){t.stringify=h.stringify;t.parse=h.parse}var p=i.prototype,d=p.toString,v,m,g;var y=new o(-0xc782b5b800cec);try{y=y.getUTCFullYear()==-109252&&y.getUTCMonth()===0&&y.getUTCDate()===1&&y.getUTCHours()==10&&y.getUTCMinutes()==37&&y.getUTCSeconds()==6&&y.getUTCMilliseconds()==708}catch(b){}if(!w("json")){var E="[object Function]",S="[object Date]",x="[object Number]",T="[object String]",N="[object Array]",C="[object Boolean]";var k=w("bug-string-char-index");if(!y){var L=c.floor;var A=[0,31,59,90,120,151,181,212,243,273,304,334];var O=function(e,t){return A[t]+365*(e-1970)+L((e-1969+(t=+(t>1)))/4)-L((e-1901+t)/100)+L((e-1601+t)/400)}}if(!(v=p.hasOwnProperty)){v=function(e){var t={},n;if((t.__proto__=null,t.__proto__={toString:1},t).toString!=d){v=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);this.__proto__=t;return n}}else{n=t.constructor;v=function(e){var t=(this.constructor||n).prototype;return e in this&&!(e in t&&this[e]===t[e])}}t=null;return v.call(this,e)}}m=function(e,t){var n=0,r,i,o;(r=function(){this.valueOf=0}).prototype.valueOf=0;i=new r;for(o in i){if(v.call(i,o)){n++}}r=i=null;if(!n){i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];m=function(e,t){var n=d.call(e)==E,r,o;var u=!n&&typeof e.constructor!="function"&&s[typeof e.hasOwnProperty]&&e.hasOwnProperty||v;for(r in e){if(!(n&&r=="prototype")&&u.call(e,r)){t(r)}}for(o=i.length;r=i[--o];u.call(e,r)&&t(r));}}else if(n==2){m=function(e,t){var n={},r=d.call(e)==E,i;for(i in e){if(!(r&&i=="prototype")&&!v.call(n,i)&&(n[i]=1)&&v.call(e,i)){t(i)}}}}else{m=function(e,t){var n=d.call(e)==E,r,i;for(r in e){if(!(n&&r=="prototype")&&v.call(e,r)&&!(i=r==="constructor")){t(r)}}if(i||v.call(e,r="constructor")){t(r)}}}return m(e,t)};if(!w("json-stringify")){var M={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"};var _="000000";var D=function(e,t){return(_+(t||0)).slice(-e)};var P="\\u00";var H=function(e){var t='"',n=0,r=e.length,i=!k||r>10;var s=i&&(k?e.split(""):e);for(;n<r;n++){var o=e.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=M[o];break;default:if(o<32){t+=P+D(2,o.toString(16));break}t+=i?s[n]:e.charAt(n)}}return t+'"'};var B=function(e,t,n,r,i,s,o){var u,a,f,c,h,p,y,b,w,E,k,A,M,_,P,j;try{u=t[e]}catch(F){}if(typeof u=="object"&&u){a=d.call(u);if(a==S&&!v.call(u,"toJSON")){if(u>-1/0&&u<1/0){if(O){h=L(u/864e5);for(f=L(h/365.2425)+1970-1;O(f+1,0)<=h;f++);for(c=L((h-O(f,0))/30.42);O(f,c+1)<=h;c++);h=1+h-O(f,c);p=(u%864e5+864e5)%864e5;y=L(p/36e5)%24;b=L(p/6e4)%60;w=L(p/1e3)%60;E=p%1e3}else{f=u.getUTCFullYear();c=u.getUTCMonth();h=u.getUTCDate();y=u.getUTCHours();b=u.getUTCMinutes();w=u.getUTCSeconds();E=u.getUTCMilliseconds()}u=(f<=0||f>=1e4?(f<0?"-":"+")+D(6,f<0?-f:f):D(4,f))+"-"+D(2,c+1)+"-"+D(2,h)+"T"+D(2,y)+":"+D(2,b)+":"+D(2,w)+"."+D(3,E)+"Z"}else{u=null}}else if(typeof u.toJSON=="function"&&(a!=x&&a!=T&&a!=N||v.call(u,"toJSON"))){u=u.toJSON(e)}}if(n){u=n.call(t,e,u)}if(u===null){return"null"}a=d.call(u);if(a==C){return""+u}else if(a==x){return u>-1/0&&u<1/0?""+u:"null"}else if(a==T){return H(""+u)}if(typeof u=="object"){for(_=o.length;_--;){if(o[_]===u){throw l()}}o.push(u);k=[];P=s;s+=i;if(a==N){for(M=0,_=u.length;M<_;M++){A=B(M,u,n,r,i,s,o);k.push(A===g?"null":A)}j=k.length?i?"[\n"+s+k.join(",\n"+s)+"\n"+P+"]":"["+k.join(",")+"]":"[]"}else{m(r||u,function(e){var t=B(e,u,n,r,i,s,o);if(t!==g){k.push(H(e)+":"+(i?" ":"")+t)}});j=k.length?i?"{\n"+s+k.join(",\n"+s)+"\n"+P+"}":"{"+k.join(",")+"}":"{}"}o.pop();return j}};t.stringify=function(e,t,n){var r,i,o,u;if(s[typeof t]&&t){if((u=d.call(t))==E){i=t}else if(u==N){o={};for(var a=0,f=t.length,l;a<f;l=t[a++],(u=d.call(l),u==T||u==x)&&(o[l]=1));}}if(n){if((u=d.call(n))==x){if((n-=n%1)>0){for(r="",n>10&&(n=10);r.length<n;r+=" ");}}else if(u==T){r=n.length<=10?n:n.slice(0,10)}}return B("",(l={},l[""]=e,l),i,o,r,"",[])}}if(!w("json-parse")){var j=r.fromCharCode;var F={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"};var I,q;var R=function(){I=q=null;throw a()};var U=function(){var e=q,t=e.length,n,r,i,s,o;while(I<t){o=e.charCodeAt(I);switch(o){case 9:case 10:case 13:case 32:I++;break;case 123:case 125:case 91:case 93:case 58:case 44:n=k?e.charAt(I):e[I];I++;return n;case 34:for(n="@",I++;I<t;){o=e.charCodeAt(I);if(o<32){R()}else if(o==92){o=e.charCodeAt(++I);switch(o){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:n+=F[o];I++;break;case 117:r=++I;for(i=I+4;I<i;I++){o=e.charCodeAt(I);if(!(o>=48&&o<=57||o>=97&&o<=102||o>=65&&o<=70)){R()}}n+=j("0x"+e.slice(r,I));break;default:R()}}else{if(o==34){break}o=e.charCodeAt(I);r=I;while(o>=32&&o!=92&&o!=34){o=e.charCodeAt(++I)}n+=e.slice(r,I)}}if(e.charCodeAt(I)==34){I++;return n}R();default:r=I;if(o==45){s=true;o=e.charCodeAt(++I)}if(o>=48&&o<=57){if(o==48&&(o=e.charCodeAt(I+1),o>=48&&o<=57)){R()}s=false;for(;I<t&&(o=e.charCodeAt(I),o>=48&&o<=57);I++);if(e.charCodeAt(I)==46){i=++I;for(;i<t&&(o=e.charCodeAt(i),o>=48&&o<=57);i++);if(i==I){R()}I=i}o=e.charCodeAt(I);if(o==101||o==69){o=e.charCodeAt(++I);if(o==43||o==45){I++}for(i=I;i<t&&(o=e.charCodeAt(i),o>=48&&o<=57);i++);if(i==I){R()}I=i}return+e.slice(r,I)}if(s){R()}if(e.slice(I,I+4)=="true"){I+=4;return true}else if(e.slice(I,I+5)=="false"){I+=5;return false}else if(e.slice(I,I+4)=="null"){I+=4;return null}R()}}return"$"};var z=function(e){var t,n;if(e=="$"){R()}if(typeof e=="string"){if((k?e.charAt(0):e[0])=="@"){return e.slice(1)}if(e=="["){t=[];for(;;n||(n=true)){e=U();if(e=="]"){break}if(n){if(e==","){e=U();if(e=="]"){R()}}else{R()}}if(e==","){R()}t.push(z(e))}return t}else if(e=="{"){t={};for(;;n||(n=true)){e=U();if(e=="}"){break}if(n){if(e==","){e=U();if(e=="}"){R()}}else{R()}}if(e==","||typeof e!="string"||(k?e.charAt(0):e[0])!="@"||U()!=":"){R()}t[e.slice(1)]=z(U())}return t}R()}return e};var W=function(e,t,n){var r=X(e,t,n);if(r===g){delete e[t]}else{e[t]=r}};var X=function(e,t,n){var r=e[t],i;if(typeof r=="object"&&r){if(d.call(r)==N){for(i=r.length;i--;){W(r,i,n)}}else{m(r,function(e){W(r,e,n)})}}return n.call(e,t,r)};t.parse=function(e,t){var n,r;I=0;q=""+e;n=z(U());if(U()!="$"){R()}I=q=null;return t&&d.call(t)==E?X((r={},r[""]=n,r),"",t):n}}}t["runInContext"]=f;return t}var n=typeof e==="function"&&e.amd;var s={"function":true,object:true};var o=s[typeof i]&&i&&!i.nodeType&&i;var u=s[typeof window]&&window||this,a=o&&s[typeof r]&&r&&!r.nodeType&&typeof t=="object"&&t;if(a&&(a["global"]===a||a["window"]===a||a["self"]===a)){u=a}if(o&&!n){f(u,o)}else{var l=u.JSON,c=u["JSON3"],h=false;var p=f(u,u["JSON3"]={noConflict:function(){if(!h){h=true;u.JSON=l;u["JSON3"]=c;l=c=null}return p}});u.JSON={parse:p.parse,stringify:p.stringify}}if(n){e(function(){return p})}}).call(this)}).call(this,typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],59:[function(e,t,n){"use strict";function f(e){var t=u.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]?t[3]:""}}function l(e,t,n){if(!(this instanceof l)){return new l(e,t,n)}var u=o.test(e),c,h,p,d,v=typeof t,m=this,g=0;if("object"!==v&&"string"!==v){n=t;t=null}if(n&&"function"!==typeof n){n=s.parse}t=i(t);var y=f(e);m.protocol=y.protocol||t.protocol||"";m.slashes=y.slashes||t.slashes;e=y.rest;for(;g<a.length;g++){h=a[g];c=h[0];d=h[1];if(c!==c){m[d]=e}else if("string"===typeof c){if(~(p=e.indexOf(c))){if("number"===typeof h[2]){m[d]=e.slice(0,p);e=e.slice(p+h[2])}else{m[d]=e.slice(p);e=e.slice(0,p)}}}else if(p=c.exec(e)){m[d]=p[1];e=e.slice(0,e.length-p[0].length)}m[d]=m[d]||(h[3]||"port"===d&&u?t[d]||"":"");if(h[4]){m[d]=m[d].toLowerCase()}}if(n)m.query=n(m.query);if(!r(m.port,m.protocol)){m.host=m.hostname;m.port=""}m.username=m.password="";if(m.auth){h=m.auth.split(":");m.username=h[0]||"";m.password=h[1]||""}m.href=m.toString()}var r=e("requires-port"),i=e("./lolcation"),s=e("querystringify"),o=/^\/(?!\/)/,u=/^([a-z0-9.+-]+:)?(\/\/)?(.*)$/i;var a=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",undefined,1,1],[/\:(\d+)$/,"port"],[NaN,"hostname",undefined,1,1]];l.prototype.set=function(t,n,i){var o=this;if("query"===t){if("string"===typeof n&&n.length){n=(i||s.parse)(n)}o[t]=n}else if("port"===t){o[t]=n;if(!r(n,o.protocol)){o.host=o.hostname;o[t]=""}else if(n){o.host=o.hostname+":"+n}}else if("hostname"===t){o[t]=n;if(o.port)n+=":"+o.port;o.host=n}else if("host"===t){o[t]=n;if(/\:\d+/.test(n)){n=n.split(":");o.hostname=n[0];o.port=n[1]}}else if("protocol"===t){o.protocol=n;o.slashes=!i}else{o[t]=n}o.href=o.toString();return o};l.prototype.toString=function c(e){if(!e||"function"!==typeof e)e=s.stringify;var t,n=this,r=n.protocol;if(r&&r.charAt(r.length-1)!==":")r+=":";var i=r+(n.slashes?"//":"");if(n.username){i+=n.username;if(n.password)i+=":"+n.password;i+="@"}i+=n.hostname;if(n.port)i+=":"+n.port;i+=n.pathname;t="object"===typeof n.query?e(n.query):n.query;if(t)i+="?"!==t.charAt(0)?"?"+t:t;if(n.hash)i+=n.hash;return i};l.qs=s;l.location=i;t.exports=l},{"./lolcation":60,querystringify:61,"requires-port":62}],60:[function(e,t,r){(function(n){"use strict";var r=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//;var i={hash:1,query:1},s;t.exports=function(o){o=o||n.location||{};s=s||e("./");var u={},a=typeof o,f;if("blob:"===o.protocol){u=new s(unescape(o.pathname),{})}else if("string"===a){u=new s(o,{});for(f in i)delete u[f]}else if("object"===a){for(f in o){if(f in i)continue;u[f]=o[f]}if(u.slashes===undefined){u.slashes=r.test(o.href)}}return u}}).call(this,typeof n!=="undefined"?n:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./":59}],61:[function(e,t,n){"use strict";function i(e){var t=/([^=?&]+)=([^&]*)/g,n={},r;for(;r=t.exec(e);n[decodeURIComponent(r[1])]=decodeURIComponent(r[2]));return n}function s(e,t){t=t||"";var n=[];if("string"!==typeof t)t="?";for(var i in e){if(r.call(e,i)){n.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]))}}return n.length?t+n.join("&"):""}var r=Object.prototype.hasOwnProperty;n.stringify=s;n.parse=i},{}],62:[function(e,t,n){"use strict";t.exports=function(t,n){n=n.split(":")[0];t=+t;if(!t)return false;switch(n){case"http":case"ws":return t!==80;case"https":case"wss":return t!==443;case"ftp":return t!==21;case"gopher":return t!==70;case"file":return false}return t!==0}},{}]},{},[1])(1)})}(t.exports,t,e);e.____MODULES["471bf3f114cffc85024b443060cfcfac"]=t.exports})(this);(function(e){var t={id:"fbc9cfff9daabb2f84b669be55f78418",filename:"index.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(t,n,r){function c(e){var t=e.messageType.split("_")[0];l.$fire("all!layout.set.noticeCount");l.$fire("all!notice.update.sidebarCount");switch(t){case"remind":o=="roomState"&&l.$fire("all!notice.new.remind");s=="notice_myRemind"&&l.$fire("all!notice.set.hasNews");break;case"message":if(o=="roomState"){l.$fire("all!notice.new.message");var n=s=="roomState_remote";var r=s=="roomState_realTime";if(e.messageType=="message_auto_assign"){n&&l.$fire("all!room.draw.roomOrderCell");n&&l.$fire("all!room.set.daysRoomCount");r&&l.$fire("all!realRoom.refresh.quickSearch");r&&l.$fire("all!realRoom.refresh.roomState")}}s=="notice_myMessage"&&l.$fire("all!notice.set.hasNews");break;case"announcement":o=="roomState"&&l.$fire("all!notice.show.annouceDialog");s=="notice_noticebar"&&l.$fire("all!notice.set.hasNews");break;case"pwd":e.messageType=="pwd_sms_recharge"&&l.$fire("all!message.show.smsInsufficientDialog");break;default:break}i(e)}e.____MODULES["09ac380113fe68b684a97bbaee18a6a7"];var i=e.____MODULES["9a37576816af5ed39f908d0c05dd4ea8"];var s="",o="",u=e.____MODULES["471bf3f114cffc85024b443060cfcfac"],a=e.____MODULES["93107745e701e8e60af7dd1beac73661"],f="http://webpush.quhuhu.com/webpush";var l=avalon.define({$id:"sockConnect"});var h=null,p=null,d=null;n.exports={getOpts:function(){var e=a.getMilliseconds(a.newDate("yyyy-MM-dd hh:mm:ss"));return{sysId:"SRM",uid:Q.pageData.userId,loginToken:$.cookie("_qhh"),stamp:e,clientMessageType:"LOGIN"}},create:function(e,t){h=h||null;if(!h){h=new u(f)}this.sendHeartbeat();this.scheduledReConnect();this.bind()},bind:function(){s=Q.config.settings.pageKey;o=Q.config.settings.navKey;var e=this;h.onopen=function(){Q.debug&&console.log("socket open");h.send(JSON.stringify(e.getOpts()))};h.onmessage=function(e){Q.debug&&console.log(e.data);var t=JSON.parse(e.data);if(t.data){c(JSON.parse(t.data))}};h.onclose=function(){h=null;Q.debug&&console.log("socket close")};h.onerror=function(e){Q.debug&&console.log("ERROR: "+e)}},sendHeartbeat:function(){var e=this;p&&clearInterval(p);p=setInterval(function(){if(h){Q.debug&&console.log("heartbeat");h.send("heartbeat")}else{Q.debug&&console.log("rebuild");e.create()}},1e4)},scheduledReConnect:function(){var e=this;d=setInterval(function(){e.close();e.create()},2*24*60*60*1e3)},send:function(e){if(h){h.send(e)}else{this.create()}},close:function(){if(h){var e=this.getOpts();e.clientMessageType="LOGOUT";h.send(JSON.stringify(e));h.close();h=null}p&&clearInterval(p);d&&clearInterval(d)}}}(t.exports,t,e);e.____MODULES["fbc9cfff9daabb2f84b669be55f78418"]=t.exports})(this);(function(e){var t={id:"a21d19778d09e4b9ad4969c904b33130",filename:"Q.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(t,n,r){var i=window.Q||{};var s=e.____MODULES["740fb12a3abe3404ac255dc40627eea2"],o=e.____MODULES["52c084a7a69a5e6cdb40a5c3e78fb961"],u=e.____MODULES["430ca52e742f116a5e75edbceb49edcf"],a=e.____MODULES["93107745e701e8e60af7dd1beac73661"],f=e.____MODULES["1e5b54326244069c961731ad4c505efe"],l=e.____MODULES["fbc9cfff9daabb2f84b669be55f78418"];avalon.mix(i,{config:s,hub:{},error:u,ajax:o,debug:false,dateUtil:a,popupUtil:f,privilege:{},sock:l,isMac:/macintosh|mac os x/i.test(navigator.userAgent),initSettings:function(e){this.config.settings=e;if(false){return}this.sock.create()}});window.Q=i}(t.exports,t,e);e.____MODULES["a21d19778d09e4b9ad4969c904b33130"]=t.exports})(this);(function(e){var t={id:"0bc04cb2464eca0df9841919b6e49033",filename:"upgrade.string",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["upgrade"]='<div class="q-upgrade">\n    <div class="alert alert-warning">\n        您的浏览器版本过低，为了获得最佳的使用体验，建议您使用以下浏览器访问：\n        <a href="https://www.baidu.com/s?ie=UTF-8&wd=chrome" target="_blank" class="color-primary">谷歌浏览器下载</a>\n        <a href="http://se.360.cn/" target="_blank" class="color-primary ml5">360安全浏览器下载</a>\n        <i class="q-icon color-warning" title="关闭" id="j-upgrade-close">&#xf00d;</i>\n    </div>\n</div>\n';if(typeof t!=="undefined")t.exports=window.QTMPL["upgrade"]}(t.exports,t,e);e.____MODULES["0bc04cb2464eca0df9841919b6e49033"]=t.exports})(this);(function(e){var t={id:"577b80fa088920d907ac0e5c59b08fd8",filename:"index.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(t,n,r){var i=e.____MODULES["0bc04cb2464eca0df9841919b6e49033"];var s={win:$(window),body:$("body"),fixClass:"browser-fix",width:0,minWidth:1200,version:"",ie:false,init:function(){this.detectWidth();this.detectVersion();if(this.ie&&this.version<=8){this.createUpgrade();this.browserFix();this.bind()}},bind:function(){var e=this;this.win.on("resize.detectBrowser",function(){e.detectWidth();e.browserFix()});$("#j-upgrade-close").on("click",function(){$(this).parent().parent().remove()})},detectWidth:function(){this.width=this.win.width()},detectVersion:function(){var e=$.browser;if(e.msie){this.ie=true;this.version=parseInt(e.version)}},browserFix:function(){if(this.width<this.minWidth){this.body.addClass(this.fixClass)}else{this.body.removeClass(this.fixClass)}},createUpgrade:function(){this.body.append(i)}};s.init()}(t.exports,t,e);e.____MODULES["577b80fa088920d907ac0e5c59b08fd8"]=t.exports})(this);(function(e){var t={id:"46b7c53fc126563937be5f408976c166",filename:"view.string",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(e,t,n){if(typeof window.QTMPL==="undefined")window.QTMPL={};window.QTMPL["view"]='<div id="privilegeRemind" class="fn-yh">\n    <div class="content f14 text-center">{{remindContent}}</div>\n</div>\n';if(typeof t!=="undefined")t.exports=window.QTMPL["view"]}(t.exports,t,e);e.____MODULES["46b7c53fc126563937be5f408976c166"]=t.exports})(this);(function(e){var t={id:"502fe8a31fa73ecb012e928035a7f0d1",filename:"index.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(t,n,r){var i=null,s=e.____MODULES["46b7c53fc126563937be5f408976c166"],o=e.____MODULES["1e5b54326244069c961731ad4c505efe"];var u=avalon.define({$id:"privilegeRemind",remindContent:""});var a=function(){i=o.dialog({title:" ",content:s,skin:"privilege-remind-dialog",padding:"0 30px",fixed:true,width:295,onshow:function(){avalon.scan(document.getElementById("privilegeRemind"),avalon.vmodels["privilegeRemind"])},cancelValue:"知道了",cancel:function(){}}).showModal();i.height("auto")};u.$watch("privilege.show.remind",function(e){u.remindContent=e;a()})}(t.exports,t,e);e.____MODULES["502fe8a31fa73ecb012e928035a7f0d1"]=t.exports})(this);(function(e){var t={id:"6d77baa5a650ec13fe0c8f262b2a011d",filename:"hook.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(t,n,r){e.____MODULES["577b80fa088920d907ac0e5c59b08fd8"];e.____MODULES["502fe8a31fa73ecb012e928035a7f0d1"]}(t.exports,t,e);e.____MODULES["6d77baa5a650ec13fe0c8f262b2a011d"]=t.exports})(this);(function(e){var t={id:"68e2476f58a6d9c0cba688d038c823dd",filename:"base.js",exports:{}};if(!e.____MODULES){e.____MODULES={}}var n=function(t,n,r){e.____MODULES["2ed39acfd363bbdd7cc4b38b9b206936"];e.____MODULES["a21d19778d09e4b9ad4969c904b33130"];e.____MODULES["6d77baa5a650ec13fe0c8f262b2a011d"]}(t.exports,t,e);e.____MODULES["68e2476f58a6d9c0cba688d038c823dd"]=t.exports})(this)